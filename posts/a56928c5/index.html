<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/freelance.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/freelance.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="baidu-site-verification" content="f1d5bcefa8482d6d527c69831a4fbc61">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"bakebakebakebake.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"livere","storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="很多人对二分感到很苦恼，很困惑，可能是因为二分的边界很难掌握，也许是判断条件难写… 然而，很幸运，你找到了这篇文章，仔细看下去，这篇文章将带你学透二分！！！ 二分可以简单分为二分查找与二分答案。 可能你听说过二分查找，二分查找和二分答案是不是一回事呢？答案是否定的。二分查找只是单纯的查找就可以了，简单的控制好边界条件。而二分答案也许稍复杂些。 首先，我们看一下二分的模板：模板 1：123456wh">
<meta property="og:type" content="article">
<meta property="og:title" content="二分查找 &amp; 二分答案">
<meta property="og:url" content="https://bakebakebakebake.github.io/posts/a56928c5/index.html">
<meta property="og:site_name" content="FXJFXJ">
<meta property="og:description" content="很多人对二分感到很苦恼，很困惑，可能是因为二分的边界很难掌握，也许是判断条件难写… 然而，很幸运，你找到了这篇文章，仔细看下去，这篇文章将带你学透二分！！！ 二分可以简单分为二分查找与二分答案。 可能你听说过二分查找，二分查找和二分答案是不是一回事呢？答案是否定的。二分查找只是单纯的查找就可以了，简单的控制好边界条件。而二分答案也许稍复杂些。 首先，我们看一下二分的模板：模板 1：123456wh">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314114655469.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314132349914.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314135526382.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021031414463155.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314151456300.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314154525848.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210314162609239.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20210311110909144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2021031111085529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2024-01-12T12:13:27.000Z">
<meta property="article:modified_time" content="2024-01-12T12:13:30.328Z">
<meta property="article:author" content="FXJFXJ">
<meta property="article:tag" content="常用工具">
<meta property="article:tag" content="二分">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20210314114655469.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70">

<link rel="canonical" href="https://bakebakebakebake.github.io/posts/a56928c5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>二分查找 & 二分答案 | FXJFXJ</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f1d5bcefa8482d6d527c69831a4fbc61";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">FXJFXJ</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

  

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/a56928c5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and Programmer😇">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          二分查找 & 二分答案
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2024-01-12 20:13:27 / 修改时间：20:13:30" itemprop="dateCreated datePublished" datetime="2024-01-12T20:13:27+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ACMWeb/" itemprop="url" rel="index"><span itemprop="name">ACMWeb</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>18 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>很多人对二分感到很苦恼，很困惑，可能是因为二分的边界很难掌握，也许是判断条件难写…</p>
<p>然而，很幸运，你找到了这篇文章，仔细看下去，这篇文章将带你<strong>学透二分</strong>！！！</p>
<p>二分可以简单分为<code>二分查找</code>与<code>二分答案</code>。</p>
<p>可能你听说过<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE&amp;spm=1001.2101.3001.7020">二分查找</a>，二分查找和二分答案是不是一回事呢？答案是否定的。二分查找只是单纯的查找就可以了，简单的控制好边界条件。而二分答案也许稍复杂些。</p>
<h2 id="首先，我们看一下二分的模板："><a href="#首先，我们看一下二分的模板：" class="headerlink" title="首先，我们看一下二分的模板："></a>首先，我们看一下二分的模板：</h2><h6 id="模板-1："><a href="#模板-1：" class="headerlink" title="模板 1："></a>模板 1：</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">while (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        int mid = l + r &gt;&gt; 1;	//(l+r)/2</span><br><span class="line">        if (check(mid))  r = mid;    // check()判断mid是否满足性质</span><br><span class="line">        else l = mid + 1;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h6 id="模板-2："><a href="#模板-2：" class="headerlink" title="模板 2："></a>模板 2：</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">while (l &lt; r)</span><br><span class="line">    &#123;</span><br><span class="line">        int mid = l + r + 1 &gt;&gt; 1;	//(l+r+1)/2</span><br><span class="line">        if (check(mid))  l = mid;</span><br><span class="line">        else r = mid - 1;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><strong>看到这，以后的你就不会因为边界问题而困惑了！！！</strong></p>
<p><strong>第一个模板是尽量往左找目标，第二个模板是尽量往右找目标。</strong></p>
<p><strong>只要是往左找答案，就用第一个模板，mid 不用加一，r=mid，l 加一；<br>只要是往右找答案，就用第二个模板，mid 要加一，l=mid，r 要减一；</strong></p>
<p>二分套这两个模板，肯定没错！（只要判断条件写对）亲测有效！！！<br>下面的题目更能证明这句话！</p>
<h3 id="这两个模板一定要牢牢记住哦"><a href="#这两个模板一定要牢牢记住哦" class="headerlink" title="这两个模板一定要牢牢记住哦"></a>这两个模板一定要牢牢记住哦</h3><p>当然，二分可能在实数中进行，那自然少不了浮点二分。</p>
<h6 id="模板-3：（浮点二分）"><a href="#模板-3：（浮点二分）" class="headerlink" title="模板 3：（浮点二分）"></a>模板 3：（浮点二分）</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">while(r-l&gt;1e-5) //需要一个精度保证</span><br><span class="line">	&#123;</span><br><span class="line">		double mid = (l+r)/2;</span><br><span class="line">		if(check(mid)) l=mid; //或r=mid;</span><br><span class="line">		else r=mid; //或l=mid;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>浮点二分就相对简单多了，因为浮点除法不会取整，所以 mid，l，r，都不用加 1 或减 1.</p>
<h2 id="我们先来学二分查找："><a href="#我们先来学二分查找：" class="headerlink" title="我们先来学二分查找："></a>我们先来学二分查找：</h2><p>二分查找也称折半查找，顾名思义，就是每次查找去掉不符合条件的一半区间，直到找到答案（整数二分）或者和答案十分接近（浮点二分）。</p>
<p>光说不练假把式，来个例题：</p>
<h5 id="例题-1——查找"><a href="#例题-1——查找" class="headerlink" title="例题 1——查找"></a>例题 1——<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2249">查找</a></h5><p><img src="https://img-blog.csdnimg.cn/20210314114655469.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong>分析：这题就是典型的二分查找入门题。</strong></p>
<p><strong>首先，区间是有<code>单调性</code>的，查找第一次出现的位置，如果查到一个值比目标值大，就把右半边放弃，因为右半边肯定也比目标值大；同样，如果查到值比目标值小，那就放弃左半边。</strong></p>
<p>本文的所有例题都有分析，题解，并注上详细注释。先自己尝试一下，再看题解哦。</p>
<h5 id="code："><a href="#code：" class="headerlink" title="code："></a>code：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N=1000010;</span><br><span class="line">int a[N],x,q,n;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;q;</span><br><span class="line">	for(int i=1;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	</span><br><span class="line">	while(q--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;x;</span><br><span class="line">		int l=1,r=n; //左右边界 </span><br><span class="line">		while(l&lt;r) //因为是找第一次出现的位置，那就是尽量往左来，就用模板1 </span><br><span class="line">		&#123;</span><br><span class="line">			int mid=l+r&gt;&gt;1;</span><br><span class="line">			if(a[mid]&gt;=x) r=mid; //判断条件，如果值大于等于目标值，说明在目标值右边，尽量往左来</span><br><span class="line">			else l=mid+1;</span><br><span class="line">		&#125;</span><br><span class="line">		if(a[l]!=x)&#123; //如果找不到这个值 </span><br><span class="line">			cout&lt;&lt;-1&lt;&lt;&quot; &quot;;</span><br><span class="line">			continue;</span><br><span class="line">		&#125;</span><br><span class="line">		cout&lt;&lt;l&lt;&lt;&quot; &quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有一个小问题就是，如果找不到这个值（即，集合里没有这个数）怎么办？因为判断条件是大于等于目标值，那返回的就是第一个大于目标值的位置。</p>
<h4 id="好了，现在的你已经进入了二分世界的大门，此时让我们畅游吧！"><a href="#好了，现在的你已经进入了二分世界的大门，此时让我们畅游吧！" class="headerlink" title="好了，现在的你已经进入了二分世界的大门，此时让我们畅游吧！"></a>好了，现在的你已经进入了二分世界的大门，此时让我们畅游吧！</h4><h5 id="例-2——A-B-数对"><a href="#例-2——A-B-数对" class="headerlink" title="例 2——A-B 数对"></a>例 2——<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1102">A-B 数对</a></h5><p><img src="https://img-blog.csdnimg.cn/20210314132349914.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong>分析：给出了 C，我们要找出 A 和 B。我们可以遍历数组，即让每一个值先变成 B，然后二分找对应的 A 首次出现位置，看是否能找到。</strong></p>
<p><strong>如果找到 A，那就二分找最后出现的位置，继而，求出 A 的个数，即数对的个数。</strong></p>
<h5 id="code：-1"><a href="#code：-1" class="headerlink" title="code："></a>code：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N=200010;</span><br><span class="line">long long a[N],n,c,cnt,st;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;c;</span><br><span class="line">	for(int i=1;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	sort(a+1,a+1+n);	//先排序 </span><br><span class="line">	</span><br><span class="line">	for(int i=1;i&lt;n;i++)	//遍历每一个B </span><br><span class="line">	&#123;</span><br><span class="line">		int l=i+1,r=n;	//寻找A第一次出现的位置，使得A-B=C </span><br><span class="line">		while(l&lt;r) //因为是第一次出现，尽量往左，模板1</span><br><span class="line">		&#123;</span><br><span class="line">			int mid=l+r&gt;&gt;1;</span><br><span class="line">			if(a[mid]-a[i]&gt;=c) r=mid;	//判断：在目标值的右边，满足，往左来</span><br><span class="line">			else l=mid+1;</span><br><span class="line">		&#125;</span><br><span class="line">		if(a[l]-a[i]==c) st=l; //能找到C就继续 </span><br><span class="line">		else continue;</span><br><span class="line">		</span><br><span class="line">		l=st-1,r=n;	//查找A最后出现的位置 </span><br><span class="line">		while(l&lt;r) //因为是最后一次出现，尽量往右，模板2</span><br><span class="line">		&#123;</span><br><span class="line">			int mid=l+r+1&gt;&gt;1;</span><br><span class="line">			if(a[mid]&lt;=a[st]) l=mid; //判断：在目标值的左边，满足，往右去</span><br><span class="line">			else r=mid-1;</span><br><span class="line">		&#125;</span><br><span class="line">		cnt+=l-st+1;	//最后出现的位置减首次出现的位置就是区间长度，即A的个数 </span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;cnt;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果你把上面的两个题完全搞懂了，那很容易就抽象出做题步骤：</p>
<p><strong>如果题目明确说了 要求最小值（最前面的值）还是求最大值（最后面的值），就能判断是用模板 1（求最小），还是用模板 2（求最大）。<br>之后再根据模板 1，或模板 2，写出对应的判断条件；</strong></p>
<p>但是，我们不建议死记模板，更重要的是在理解之后的灵活变通。比如，再看一个题。</p>
<h5 id="例-3——烦恼的高考志愿"><a href="#例-3——烦恼的高考志愿" class="headerlink" title="例 3——烦恼的高考志愿"></a>例 3——<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1678">烦恼的高考志愿</a></h5><p><img src="https://img-blog.csdnimg.cn/20210314135526382.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong>分析：这题，就需要稍微理解一下下。</strong></p>
<p><strong>要求估分和分数线相差最小，那肯定分数线刚超过估分或者估分刚超过分数线。我们就转化为，求第一个大于等于估分的分数线的位置。</strong></p>
<p><strong>如此，这个位置的分数线或前一位置的分数线就是和估分相差最小的。</strong></p>
<h5 id="code：-2"><a href="#code：-2" class="headerlink" title="code："></a>code：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N=1e5+10;</span><br><span class="line">long long a[N],x,sum,n,m;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	for(int i=1;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">	sort(a+1,a+n+1); //排序勿忘 </span><br><span class="line">	a[0]=-1e12;a[n+1]=1e12;	 //最后再解释</span><br><span class="line">	</span><br><span class="line">	while(m--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;x;</span><br><span class="line">		int l=1,r=n+1;	//r设为n+1 </span><br><span class="line">		while(l&lt;r) //寻找第一个超过估分的学校，那它或它前面的一个学校就是目标学校 </span><br><span class="line">		&#123;</span><br><span class="line">			int mid=l+r&gt;&gt;1;</span><br><span class="line">			if(a[mid]&gt;=x) r=mid;</span><br><span class="line">			else l=mid+1;</span><br><span class="line">		&#125;</span><br><span class="line">		if(a[l]-x&lt;=x-a[l-1]) sum+=a[l]-x;</span><br><span class="line">		else sum+=x-a[l-1];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	cout&lt;&lt;sum;</span><br><span class="line">	return 0;</span><br><span class="line">	//a[0]=-1e12: 所有分数先可能都比估分大，那么l就为1，n-1就为0，故设a[0]为无穷小，则第一个值就为解 </span><br><span class="line">	//a[n+1]=1e12: 所有分数线可能都比估分小，那么l就为n,a[l]-x可能为负，则设a[n+1]为无穷大，</span><br><span class="line">				//并将r设为n+1，如此，l最大为n+1，则最后一个就为解 </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此外，STL 中还有两个二分函数：lower_bound 和 upper_bound；具体可以看<a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_54621932/article/details/113780956">这个博客</a>；或<a target="_blank" rel="noopener" href="https://blog.csdn.net/qiang_____0712/article/details/84196839">这个</a>~（有很多大佬总结的知识点都很好，有啥不懂的话都可以翻博客）~<br>有了这两个函数，我们就可以很方便的求出第一个大于（或等于）目标值的位置；于是，上面代码的中间可以这样改：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">while(m--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin&gt;&gt;x;</span><br><span class="line">		int t=lower_bound(a+1,a+n+1,x)-a; //如果分数线都比估分低，那返回的位置是n+1，否则返回第一个大于等于估分的位置。</span><br><span class="line">		if(a[t]-x&lt;=x-a[t-1]) sum+=a[t]-x;</span><br><span class="line">		else sum+=x-a[t-1];</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p><strong>是不是简洁多了？</strong></p>
<p>最后，我们再来看一个浮点二分：</p>
<h5 id="例-4——银行贷款"><a href="#例-4——银行贷款" class="headerlink" title="例 4——银行贷款"></a>例 4——<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1163">银行贷款</a></h5><p><img src="https://img-blog.csdnimg.cn/2021031414463155.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong>分析：对于月利率，大几率是小数，那么，我们就需要浮点二分。</strong></p>
<p><strong>月利率的范围可以放大些，比如，0~500，然后从这个范围里查，直到和答案极度相近，终止。 最后的 l 或 r，精确位数之后就是正确✔答案啦！</strong></p>
<h5 id="code：-3"><a href="#code：-3" class="headerlink" title="code："></a>code：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int sum,t,mon;</span><br><span class="line">double sumt;</span><br><span class="line"></span><br><span class="line">int check(double mid) &#123;</span><br><span class="line">	sumt=sum;</span><br><span class="line">	for(int i=1;i&lt;=mon;i++)&#123;</span><br><span class="line">		sumt=sumt+sumt*mid-t;</span><br><span class="line">	&#125;</span><br><span class="line">	if(sumt &gt; 0) return 1; 				//这里是&gt;0, 感谢评论区小伙伴提醒~</span><br><span class="line">	return 0;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">	cin&gt;&gt;sum&gt;&gt;t&gt;&gt;mon;</span><br><span class="line">	</span><br><span class="line">	double l=0,r=500; //答案范围尽量开大些</span><br><span class="line">	while(r-l&gt;1e-5)	//精度保证 </span><br><span class="line">	&#123;</span><br><span class="line">		double mid=(l+r)/2;</span><br><span class="line">		if(check(mid)) r=mid;	//如果最后还不完了，说明利率高了 </span><br><span class="line">		else l=mid;</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;%.1f&quot;,l*100);</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>至此，相信你已经对二分查找有一个更加清晰的认识了。</p>
<p><strong>课后再来几个练习题吧：<br>整数二分：<br>1、 <a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/791/">数的范围</a><br>2、 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1873">砍树</a><br>实数二分：<br>3、 <a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/792/">数的三次方根</a><br>4、 <a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1024">一元三次方程求解</a></strong></p>
<h2 id="学会了二分查找，来学二分答案！"><a href="#学会了二分查找，来学二分答案！" class="headerlink" title="学会了二分查找，来学二分答案！"></a>学会了二分查找，来学二分答案！</h2><p>首先:</p>
<h5 id="二分查找与二分答案有何区别"><a href="#二分查找与二分答案有何区别" class="headerlink" title="二分查找与二分答案有何区别?"></a>二分查找与二分答案有何区别?</h5><p>二分查找：在一个已知的有序数据集上进行二分地查找<br>二分答案：答案有一个区间，在这个区间中二分，直到找到最优答案</p>
<h5 id="什么是二分答案？"><a href="#什么是二分答案？" class="headerlink" title="什么是二分答案？"></a>什么是二分答案？</h5><p>答案属于一个区间，当这个区间很大时，暴力超时。但重要的是——<strong>这个区间是对题目中的某个量有单调性的</strong>，此时，我们就会二分答案。每一次二分会做一次判断，看是否对应的那个量达到了需要的大小。<br>判断：根据题意写个 check 函数，如果满足 check，就放弃右半区间（或左半区间），如果不满足，就放弃左半区间（或右半区间）。一直往复，直至到最终的答案。</p>
<p>其实，上面二分查找的例 4，寻找的那个区间就是答案区间。</p>
<p><strong>这不就相当于高中做选择题的时候，完了，不会做，那咋搞，把四个选项代进去看看对不对吧！哪个行得通那个就是答案！！</strong></p>
<p>只不过我们现在要找的是<code>最大的或者最小的答案</code>。</p>
<h5 id="如何判断一个题是不是用二分答案做的呢"><a href="#如何判断一个题是不是用二分答案做的呢" class="headerlink" title="如何判断一个题是不是用二分答案做的呢?"></a>如何判断一个题是不是用二分答案做的呢?</h5><h6 id="1、答案在一个区间内（一般情况下，区间会很大，暴力超时）"><a href="#1、答案在一个区间内（一般情况下，区间会很大，暴力超时）" class="headerlink" title="1、答案在一个区间内（一般情况下，区间会很大，暴力超时）"></a>1、答案在一个区间内（一般情况下，区间会很大，暴力超时）</h6><h6 id="2、直接搜索不好搜，但是容易判断一个答案可行不可行"><a href="#2、直接搜索不好搜，但是容易判断一个答案可行不可行" class="headerlink" title="2、直接搜索不好搜，但是容易判断一个答案可行不可行"></a>2、直接搜索不好搜，但是容易判断一个答案可行不可行</h6><h6 id="3、该区间对题目具有单调性，即：在区间中的值越大或越小，题目中的某个量对应增加或减少。"><a href="#3、该区间对题目具有单调性，即：在区间中的值越大或越小，题目中的某个量对应增加或减少。" class="headerlink" title="3、该区间对题目具有单调性，即：在区间中的值越大或越小，题目中的某个量对应增加或减少。"></a>3、该区间对题目具有单调性，即：在区间中的值越大或越小，题目中的某个量对应增加或减少。</h6><p><strong>此外，可能还会有一个典型的特征</strong>：<code>求...最大值的最小 、 求...最小值的最大。</code><br>1、<code>求...最大值的最小</code>，我们二分答案（即二分最大值）的时候，判断条件满足后，尽量让答案往前来（即：让 r=mid），对应模板 1；<br>2、同样，<code>求...最小值的最大</code>时，我们二分答案（即二分最小值）的时候，判断条件满足后，尽量让答案往后走（即：让 l=mid），对应模板 2；</p>
<p>先看一个经典的二分答案入门：</p>
<h5 id="例-1——木材加工"><a href="#例-1——木材加工" class="headerlink" title="例 1——木材加工"></a>例 1——<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2440">木材加工</a></h5><p><img src="https://img-blog.csdnimg.cn/20210314151456300.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<h6 id="分析：看，答案就在区间（1，100000000）里，就等着我们找呢，暴力肯定超时，那可能就用二分。"><a href="#分析：看，答案就在区间（1，100000000）里，就等着我们找呢，暴力肯定超时，那可能就用二分。" class="headerlink" title="分析：看，答案就在区间（1，100000000）里，就等着我们找呢，暴力肯定超时，那可能就用二分。"></a>分析：看，答案就在区间（1，100000000）里，就等着我们找呢，暴力肯定超时，那可能就用二分。</h6><h6 id="满足条件："><a href="#满足条件：" class="headerlink" title="满足条件："></a>满足条件：</h6><p><strong>1，答案在一个区间里。<br>2，如果给一个答案，给目标一个小段的长度，很容易判断是否到 K 个了。<br>3，具有单调性，目标小段越长，那能切出的段数越少，目标小段越短，能切出的段数越多。而最终需要 K 个，从而很容易判断一个答案行不行。</strong></p>
<h5 id="一看求啥，求最长长度，最长？这不，关门打狗，模板-2！-！"><a href="#一看求啥，求最长长度，最长？这不，关门打狗，模板-2！-！" class="headerlink" title="一看求啥，求最长长度，最长？这不，关门打狗，模板 2！ ！"></a>一看求啥，求最长长度，最长？这不，关门打狗，模板 2！ ！</h5><h5 id="那，判断条件？模板-2，如果满足判断，l-mid。啥叫满足呢？那肯定是满足需要的段数了呗！"><a href="#那，判断条件？模板-2，如果满足判断，l-mid。啥叫满足呢？那肯定是满足需要的段数了呗！" class="headerlink" title="那，判断条件？模板 2，如果满足判断，l=mid。啥叫满足呢？那肯定是满足需要的段数了呗！"></a>那，判断条件？模板 2，如果满足判断，l=mid。啥叫满足呢？那肯定是满足需要的段数了呗！</h5><h5 id="code：-4"><a href="#code：-4" class="headerlink" title="code："></a>code：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N=1e5+10;</span><br><span class="line">long long a[N],n,m,sum,maxa;</span><br><span class="line"></span><br><span class="line">int check(int mid) &#123;</span><br><span class="line">	int sum=0;</span><br><span class="line">	for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">		sum+=a[i]/mid;</span><br><span class="line">	&#125;</span><br><span class="line">	if(sum&gt;=m) return 1; //总段数大于等于所需要的 </span><br><span class="line">	return 0;</span><br><span class="line">&#125; </span><br><span class="line">int main()&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">		cin&gt;&gt;a[i],sum+=a[i];</span><br><span class="line">		if(a[i]&gt;maxa) maxa=a[i];  </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	if(sum&lt;m)&#123;cout&lt;&lt;0;return 0;&#125; //先判断是否有解 </span><br><span class="line">	</span><br><span class="line">	int l=1,r=maxa;</span><br><span class="line">	while(l&lt;r) //模板2 </span><br><span class="line">	&#123;</span><br><span class="line">		int mid=l+r+1&gt;&gt;1;</span><br><span class="line">		if(check(mid)) l=mid; </span><br><span class="line">		else r=mid-1;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;l;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>是不是感觉很有意思？</strong></p>
<p>再来看个经典的</p>
<h5 id="例-2——跳石头"><a href="#例-2——跳石头" class="headerlink" title="例 2——跳石头"></a>例 2——<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2678">跳石头</a></h5><p><img src="https://img-blog.csdnimg.cn/20210314154525848.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<h6 id="分析：看题，这是啥？最短距离的最大值！这不就是二分答案的典型特征？还想啥，二分！"><a href="#分析：看题，这是啥？最短距离的最大值！这不就是二分答案的典型特征？还想啥，二分！" class="headerlink" title="分析：看题，这是啥？最短距离的最大值！这不就是二分答案的典型特征？还想啥，二分！"></a>分析：看题，这是啥？最短距离的最大值！这不就是二分答案的典型特征？还想啥，二分！</h6><h6 id="求最大？上模板-2！！-那，判断条件？"><a href="#求最大？上模板-2！！-那，判断条件？" class="headerlink" title="求最大？上模板 2！！ 那，判断条件？"></a>求最大？上模板 2！！ 那，判断条件？</h6><p>这时候就要注意了，我们二分的是最短距离，通过二分将这个最短距离（答案）最大化。那我们判断的时候肯定要<strong>保证 mid 是最短距离。</strong></p>
<p>如何保证？我们要求抽过石头剩下的石头中，两个石头间的最短距离为 mid，那就要<strong>保证剩下的任意两个间距都要大于等于 mid</strong>。要保证这个，那就只能挑间距大于等于 mid 的石头跳，中间的石头都将会被抽走。</p>
<p>最后，计数可以被抽走的石头。<strong>如果可以被抽走的石头个数小于等于需要抽的 M 个了，就说明满足条件。因为：既然抽了小于 M 个都能满足<code>剩下的石头中，两石头间的距离都大于等于mid</code>了，那抽 M 个，更能满足！</strong></p>
<p>有点晕？没关系！看了代码就懂了！</p>
<h5 id="code：-5"><a href="#code：-5" class="headerlink" title="code："></a>code：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N=50010;</span><br><span class="line">int a[N],n,len,m,mina=1e9+1,b[N];</span><br><span class="line"></span><br><span class="line">int check(int mid)	//检查，是否最短距离为mid，如果两石头间距小于mid，不满足，移走 &#123;</span><br><span class="line">	int cnt=0;</span><br><span class="line">	int i=0,now=0;	//i表示目标位置，now为当前位置。</span><br><span class="line">	while(i&lt;n+1)&#123;</span><br><span class="line">		i++;</span><br><span class="line">		if(a[i]-a[now]&lt;mid)&#123; //两石头间距离小于mid，mid不是最短距离，不满足，移走该石头 </span><br><span class="line">			cnt++;</span><br><span class="line">		&#125;</span><br><span class="line">		else&#123;	//符合，跳过去 </span><br><span class="line">			now=i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if(cnt&lt;=m) return 1;	//移走的石头个数小于 M，就能保证了任意两剩下的石头间距大于等于最短距离mid，那移走M个，更能保证 </span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">	cin&gt;&gt;len&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">		cin&gt;&gt;a[i];</span><br><span class="line">		if(a[i]&lt;mina) mina=a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	a[0]=0,a[n+1]=len; //首尾都有石头</span><br><span class="line">	</span><br><span class="line">	if(n==0)&#123; //特判掉起点和终点之间没有石头的情况，可以想一下为什么。评论区中有答案。感谢 luojias 同学的hack数据！</span><br><span class="line">		cout&lt;&lt;len; return 0;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//二分答案：检查每一个答案（最短距离mid）是否符合要求 </span><br><span class="line">	long long l=1,r=1e10;</span><br><span class="line">	while(l&lt;r) //模板2</span><br><span class="line">	&#123;</span><br><span class="line">		int mid=l+r+1&gt;&gt;1;</span><br><span class="line">		if(check(mid)) l=mid; //要的是距离的最大，所以尽可能地往右走 </span><br><span class="line">		else r=mid-1;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;l;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>还没懂？没关系，我们再看一题！</p>
<h5 id="例-3——丢瓶盖"><a href="#例-3——丢瓶盖" class="headerlink" title="例 3——丢瓶盖"></a>例 3——<a target="_blank" rel="noopener" href="https://nanti.jisuanke.com/t/T1878">丢瓶盖</a></h5><p><img src="https://img-blog.csdnimg.cn/20210314162609239.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong>分析：距离最近的 2 个瓶盖距离最大？ 最短距离的最大值！ 二分！！</strong></p>
<p><strong>看——求最大值，模板二！</strong></p>
<p><strong>判断条件 check</strong>：与上题不同的是，这题是保证<code>拿走的</code>那些瓶盖之间的最短距离最大（上题是保证<code>剩下的</code>石头最短距离最大，这两个容易混淆。~是我没错了…~ ），那么，遍历的时候，只要满足<code>这次和上次拿的那个瓶盖间距大于等于mid</code>，就可以拿了。这样就保证了我们找的<code>最短距离mid</code>是最短的间距。</p>
<p>最后如果拿出的总瓶盖数大于等于目标值，就说明满足判断。因为：既然拿了超过目标值就能满足<code>拿走的瓶盖间距大于等于mid</code>，那拿目标值 (B) 个，肯定更能满足！</p>
<h5 id="code：-6"><a href="#code：-6" class="headerlink" title="code："></a>code：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N=100010;</span><br><span class="line">int a[N],n,m,maxa;</span><br><span class="line"></span><br><span class="line">//注意：这是拿出来的那些里，mid为最短距离，和跳石头不同的是，跳石头是在留下的里面，mid为最短距离 </span><br><span class="line">int check(int mid) &#123;</span><br><span class="line">	//now为最后一次拿的瓶盖位置，i为当前遍历的位置</span><br><span class="line">	int i=1,now=1,cnt=0; 注意：第一个瓶盖必选，才能保证剩下的距离最大，从而挑出的瓶盖间最短距离最大化 </span><br><span class="line">	while(i&lt;n)</span><br><span class="line">	&#123;</span><br><span class="line">		i++;</span><br><span class="line">		if(a[i]-a[now]&gt;=mid)&#123; //保证拿走的瓶盖间距大于等于mid，才拿这个瓶盖，否则不能保证mid为最短距离</span><br><span class="line">			now=i,cnt++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if(cnt+1&gt;=m) return 1;	//如果拿出的总个数大于等于m，都能保证拿走的瓶盖间距大于等于mid，那拿出来m个，肯定也能满足！！</span><br><span class="line">	return 0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">int main()&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">		cin&gt;&gt;a[i];</span><br><span class="line">		if(a[i]&gt;maxa) maxa=a[i]; </span><br><span class="line">	&#125;</span><br><span class="line">	sort(a+1,a+n+1);</span><br><span class="line">	</span><br><span class="line">	int l=0,r=maxa;</span><br><span class="line">	while(l&lt;r) //模板2</span><br><span class="line">	&#123;</span><br><span class="line">		int mid=l+r+1&gt;&gt;1;</span><br><span class="line">		if(check(mid)) l=mid;</span><br><span class="line">		else r=mid-1;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;l&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>做了上面两题，我们差不多又可以总结出规律了，心里是不是有点小激动？</p>
<h4 id="最大值最小，最小值最大-类-问题解题方向："><a href="#最大值最小，最小值最大-类-问题解题方向：" class="headerlink" title="最大值最小，最小值最大 类 问题解题方向："></a><code>最大值最小，最小值最大 类</code> 问题解题方向：</h4><h4 id="最短距离最大化问题：保证任意区间距离要比最短距离-mid-大或相等（这样，mid-才是最短距离）即：区间的距离-gt-mid"><a href="#最短距离最大化问题：保证任意区间距离要比最短距离-mid-大或相等（这样，mid-才是最短距离）即：区间的距离-gt-mid" class="headerlink" title="最短距离最大化问题：保证任意区间距离要比最短距离 mid 大或相等（这样，mid 才是最短距离）即：区间的距离 &gt;=mid"></a>最短距离最大化问题：保证任意区间距离要比最短距离 mid 大或相等（这样，mid 才是最短距离）即：区间的距离 &gt;=mid</h4><h4 id="最长距离最小化问题：保证任意区间距离要比最大距离-mid-小或相等（这样，mid-才是最大距离）即：区间的距离-lt-mid"><a href="#最长距离最小化问题：保证任意区间距离要比最大距离-mid-小或相等（这样，mid-才是最大距离）即：区间的距离-lt-mid" class="headerlink" title="最长距离最小化问题：保证任意区间距离要比最大距离 mid 小或相等（这样，mid 才是最大距离）即：区间的距离 &lt;=mid"></a>最长距离最小化问题：保证任意区间距离要比最大距离 mid 小或相等（这样，mid 才是最大距离）即：区间的距离 &lt;=mid</h4><p><strong>哈哈哈，是不是太有趣啦？</strong></p>
<p>快快，趁热打铁，再来！！</p>
<h5 id="例-4——数列分段-Section-II"><a href="#例-4——数列分段-Section-II" class="headerlink" title="例 4——数列分段 Section II"></a>例 4——<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1182">数列分段 Section II</a></h5><p><img src="https://img-blog.csdnimg.cn/20210311110909144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><img src="https://img-blog.csdnimg.cn/2021031111085529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX2RpbXBsZQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong>分析：没错，这次是最大值最小！</strong><br>求最小值？ 哎对，模板 1！<br><strong>判断条件</strong>：<code>要保证：每一段的和都小于等于最大值。</code>也就是说，只要这一段的和加上下一个值大于最大值了，那下一个值加不得，得分段！接着段数 ++；<br><strong>最后</strong>，统计出的总段数 (cnt+1) 小于等于目标值了，那就算满足；因为，既然分了小于目标值个段都能<code>保证每段的和小于等于最大值</code>，那么分目标值个段肯定还能保证！</p>
<p>还有一个<strong>小细节</strong>：l，和 r 的初始化。<br>所有段中的最大和肯定大于等于数列中的最大值（因为最大值最少单成一段，那所有段中的最大的和肯定要大于等于最大值），所以 l 要初始化为 maxa。<br>同样，所有段中和的最大值，最大不过数列中的所有值的和。</p>
<h5 id="code：-7"><a href="#code：-7" class="headerlink" title="code："></a>code：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int N=100010;</span><br><span class="line">typedef long long ll;</span><br><span class="line">ll a[N],n,m,summ,mina=1e9+1,maxa;</span><br><span class="line"></span><br><span class="line">int check(int mid) &#123;</span><br><span class="line">	ll cnt=0,sum=0;</span><br><span class="line">	for(int i=1;i&lt;=n-1;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		sum+=a[i];</span><br><span class="line">		if(sum+a[i+1]&gt;mid) cnt++,sum=0; //不能满足 &quot;区间间距小于最大距离&quot;，那就分段 </span><br><span class="line">	&#125;</span><br><span class="line">	if(cnt+1&lt;=m) return 1;	//总的段数小于等于需要的段数，这样都能满足mid为每段的最大值，那么多分几段，肯定还能满足 </span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line">int main()&#123;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	for(int i=1;i&lt;=n;i++)&#123;</span><br><span class="line">		cin&gt;&gt;a[i],summ+=a[i];	</span><br><span class="line">		if(a[i]&lt;mina) mina=a[i];</span><br><span class="line">		if(a[i]&gt;maxa) maxa=a[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	int l=maxa,r=summ;	//l要设为maxa，所有段的最大值肯定大于等于maxa </span><br><span class="line">	while(l&lt;r)</span><br><span class="line">	&#123;</span><br><span class="line">		int mid=l+r&gt;&gt;1;</span><br><span class="line">		if(check(mid)) r=mid; //求的是最大值的最小，故尽量往左来 </span><br><span class="line">		else l=mid+1;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;l;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>好啦，至此，二分答案你就差不多掌握了。方法说的都是实打实的；<br>最后，在给出几道练习题吧：<br><strong>1、<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1824">进击的奶牛</a><br>2、<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3853">路标设置</a><br>3、<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/104/">最佳牛围栏</a><br>4、<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3743">kotori 的设备</a></strong></p>
<p>本文的课后练习题的答案在<a target="_blank" rel="noopener" href="https://blog.csdn.net/Mr_dimple/article/details/114938038"><strong>这个博客</strong></a>里。</p>
<p><strong>相信看到这的你一定收获了不少吧。</strong></p>
<p>讲的有点多，看不完的话可以先收藏。如果有没讲到的，后续会再更新。</p>
<p>有哪里不明白的话欢迎留言或评论，相互讨论，共同进步！</p>
<p><strong>哪里写的有问题的话，还请大佬们不吝赐教。</strong></p>
<p>参考博客：<a target="_blank" rel="noopener" href="https://www.it610.com/article/1292865348768440320.htm">https://www.it610.com/article/1292865348768440320.htm</a></p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/" rel="tag"># 常用工具</a>
              <a href="/tags/%E4%BA%8C%E5%88%86/" rel="tag"># 二分</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/94ddbdbf/" rel="prev" title="三分法">
      <i class="fa fa-chevron-left"></i> 三分法
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/cb2d3688/" rel="next" title="标准库之 find() 和 find_if() 函数_list find_if 与 find 哪个效率高">
      标准库之 find() 和 find_if() 函数_list find_if 与 find 哪个效率高 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A6%96%E5%85%88%EF%BC%8C%E6%88%91%E4%BB%AC%E7%9C%8B%E4%B8%80%E4%B8%8B%E4%BA%8C%E5%88%86%E7%9A%84%E6%A8%A1%E6%9D%BF%EF%BC%9A"><span class="nav-text">首先，我们看一下二分的模板：</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF-1%EF%BC%9A"><span class="nav-text">模板 1：</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF-2%EF%BC%9A"><span class="nav-text">模板 2：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%99%E4%B8%A4%E4%B8%AA%E6%A8%A1%E6%9D%BF%E4%B8%80%E5%AE%9A%E8%A6%81%E7%89%A2%E7%89%A2%E8%AE%B0%E4%BD%8F%E5%93%A6"><span class="nav-text">这两个模板一定要牢牢记住哦</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%A8%A1%E6%9D%BF-3%EF%BC%9A%EF%BC%88%E6%B5%AE%E7%82%B9%E4%BA%8C%E5%88%86%EF%BC%89"><span class="nav-text">模板 3：（浮点二分）</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%88%91%E4%BB%AC%E5%85%88%E6%9D%A5%E5%AD%A6%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%EF%BC%9A"><span class="nav-text">我们先来学二分查找：</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B%E9%A2%98-1%E2%80%94%E2%80%94%E6%9F%A5%E6%89%BE"><span class="nav-text">例题 1——查找</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#code%EF%BC%9A"><span class="nav-text">code：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A5%BD%E4%BA%86%EF%BC%8C%E7%8E%B0%E5%9C%A8%E7%9A%84%E4%BD%A0%E5%B7%B2%E7%BB%8F%E8%BF%9B%E5%85%A5%E4%BA%86%E4%BA%8C%E5%88%86%E4%B8%96%E7%95%8C%E7%9A%84%E5%A4%A7%E9%97%A8%EF%BC%8C%E6%AD%A4%E6%97%B6%E8%AE%A9%E6%88%91%E4%BB%AC%E7%95%85%E6%B8%B8%E5%90%A7%EF%BC%81"><span class="nav-text">好了，现在的你已经进入了二分世界的大门，此时让我们畅游吧！</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B-2%E2%80%94%E2%80%94A-B-%E6%95%B0%E5%AF%B9"><span class="nav-text">例 2——A-B 数对</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#code%EF%BC%9A-1"><span class="nav-text">code：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B-3%E2%80%94%E2%80%94%E7%83%A6%E6%81%BC%E7%9A%84%E9%AB%98%E8%80%83%E5%BF%97%E6%84%BF"><span class="nav-text">例 3——烦恼的高考志愿</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#code%EF%BC%9A-2"><span class="nav-text">code：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B-4%E2%80%94%E2%80%94%E9%93%B6%E8%A1%8C%E8%B4%B7%E6%AC%BE"><span class="nav-text">例 4——银行贷款</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#code%EF%BC%9A-3"><span class="nav-text">code：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%A6%E4%BC%9A%E4%BA%86%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%EF%BC%8C%E6%9D%A5%E5%AD%A6%E4%BA%8C%E5%88%86%E7%AD%94%E6%A1%88%EF%BC%81"><span class="nav-text">学会了二分查找，来学二分答案！</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E4%B8%8E%E4%BA%8C%E5%88%86%E7%AD%94%E6%A1%88%E6%9C%89%E4%BD%95%E5%8C%BA%E5%88%AB"><span class="nav-text">二分查找与二分答案有何区别?</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8C%E5%88%86%E7%AD%94%E6%A1%88%EF%BC%9F"><span class="nav-text">什么是二分答案？</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E9%A2%98%E6%98%AF%E4%B8%8D%E6%98%AF%E7%94%A8%E4%BA%8C%E5%88%86%E7%AD%94%E6%A1%88%E5%81%9A%E7%9A%84%E5%91%A2"><span class="nav-text">如何判断一个题是不是用二分答案做的呢?</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#1%E3%80%81%E7%AD%94%E6%A1%88%E5%9C%A8%E4%B8%80%E4%B8%AA%E5%8C%BA%E9%97%B4%E5%86%85%EF%BC%88%E4%B8%80%E8%88%AC%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E5%8C%BA%E9%97%B4%E4%BC%9A%E5%BE%88%E5%A4%A7%EF%BC%8C%E6%9A%B4%E5%8A%9B%E8%B6%85%E6%97%B6%EF%BC%89"><span class="nav-text">1、答案在一个区间内（一般情况下，区间会很大，暴力超时）</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#2%E3%80%81%E7%9B%B4%E6%8E%A5%E6%90%9C%E7%B4%A2%E4%B8%8D%E5%A5%BD%E6%90%9C%EF%BC%8C%E4%BD%86%E6%98%AF%E5%AE%B9%E6%98%93%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E7%AD%94%E6%A1%88%E5%8F%AF%E8%A1%8C%E4%B8%8D%E5%8F%AF%E8%A1%8C"><span class="nav-text">2、直接搜索不好搜，但是容易判断一个答案可行不可行</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#3%E3%80%81%E8%AF%A5%E5%8C%BA%E9%97%B4%E5%AF%B9%E9%A2%98%E7%9B%AE%E5%85%B7%E6%9C%89%E5%8D%95%E8%B0%83%E6%80%A7%EF%BC%8C%E5%8D%B3%EF%BC%9A%E5%9C%A8%E5%8C%BA%E9%97%B4%E4%B8%AD%E7%9A%84%E5%80%BC%E8%B6%8A%E5%A4%A7%E6%88%96%E8%B6%8A%E5%B0%8F%EF%BC%8C%E9%A2%98%E7%9B%AE%E4%B8%AD%E7%9A%84%E6%9F%90%E4%B8%AA%E9%87%8F%E5%AF%B9%E5%BA%94%E5%A2%9E%E5%8A%A0%E6%88%96%E5%87%8F%E5%B0%91%E3%80%82"><span class="nav-text">3、该区间对题目具有单调性，即：在区间中的值越大或越小，题目中的某个量对应增加或减少。</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B-1%E2%80%94%E2%80%94%E6%9C%A8%E6%9D%90%E5%8A%A0%E5%B7%A5"><span class="nav-text">例 1——木材加工</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%86%E6%9E%90%EF%BC%9A%E7%9C%8B%EF%BC%8C%E7%AD%94%E6%A1%88%E5%B0%B1%E5%9C%A8%E5%8C%BA%E9%97%B4%EF%BC%881%EF%BC%8C100000000%EF%BC%89%E9%87%8C%EF%BC%8C%E5%B0%B1%E7%AD%89%E7%9D%80%E6%88%91%E4%BB%AC%E6%89%BE%E5%91%A2%EF%BC%8C%E6%9A%B4%E5%8A%9B%E8%82%AF%E5%AE%9A%E8%B6%85%E6%97%B6%EF%BC%8C%E9%82%A3%E5%8F%AF%E8%83%BD%E5%B0%B1%E7%94%A8%E4%BA%8C%E5%88%86%E3%80%82"><span class="nav-text">分析：看，答案就在区间（1，100000000）里，就等着我们找呢，暴力肯定超时，那可能就用二分。</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%BB%A1%E8%B6%B3%E6%9D%A1%E4%BB%B6%EF%BC%9A"><span class="nav-text">满足条件：</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%80%E7%9C%8B%E6%B1%82%E5%95%A5%EF%BC%8C%E6%B1%82%E6%9C%80%E9%95%BF%E9%95%BF%E5%BA%A6%EF%BC%8C%E6%9C%80%E9%95%BF%EF%BC%9F%E8%BF%99%E4%B8%8D%EF%BC%8C%E5%85%B3%E9%97%A8%E6%89%93%E7%8B%97%EF%BC%8C%E6%A8%A1%E6%9D%BF-2%EF%BC%81-%EF%BC%81"><span class="nav-text">一看求啥，求最长长度，最长？这不，关门打狗，模板 2！ ！</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%82%A3%EF%BC%8C%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6%EF%BC%9F%E6%A8%A1%E6%9D%BF-2%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%BB%A1%E8%B6%B3%E5%88%A4%E6%96%AD%EF%BC%8Cl-mid%E3%80%82%E5%95%A5%E5%8F%AB%E6%BB%A1%E8%B6%B3%E5%91%A2%EF%BC%9F%E9%82%A3%E8%82%AF%E5%AE%9A%E6%98%AF%E6%BB%A1%E8%B6%B3%E9%9C%80%E8%A6%81%E7%9A%84%E6%AE%B5%E6%95%B0%E4%BA%86%E5%91%97%EF%BC%81"><span class="nav-text">那，判断条件？模板 2，如果满足判断，l&#x3D;mid。啥叫满足呢？那肯定是满足需要的段数了呗！</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#code%EF%BC%9A-4"><span class="nav-text">code：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B-2%E2%80%94%E2%80%94%E8%B7%B3%E7%9F%B3%E5%A4%B4"><span class="nav-text">例 2——跳石头</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%88%86%E6%9E%90%EF%BC%9A%E7%9C%8B%E9%A2%98%EF%BC%8C%E8%BF%99%E6%98%AF%E5%95%A5%EF%BC%9F%E6%9C%80%E7%9F%AD%E8%B7%9D%E7%A6%BB%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC%EF%BC%81%E8%BF%99%E4%B8%8D%E5%B0%B1%E6%98%AF%E4%BA%8C%E5%88%86%E7%AD%94%E6%A1%88%E7%9A%84%E5%85%B8%E5%9E%8B%E7%89%B9%E5%BE%81%EF%BC%9F%E8%BF%98%E6%83%B3%E5%95%A5%EF%BC%8C%E4%BA%8C%E5%88%86%EF%BC%81"><span class="nav-text">分析：看题，这是啥？最短距离的最大值！这不就是二分答案的典型特征？还想啥，二分！</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E6%B1%82%E6%9C%80%E5%A4%A7%EF%BC%9F%E4%B8%8A%E6%A8%A1%E6%9D%BF-2%EF%BC%81%EF%BC%81-%E9%82%A3%EF%BC%8C%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6%EF%BC%9F"><span class="nav-text">求最大？上模板 2！！ 那，判断条件？</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#code%EF%BC%9A-5"><span class="nav-text">code：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B-3%E2%80%94%E2%80%94%E4%B8%A2%E7%93%B6%E7%9B%96"><span class="nav-text">例 3——丢瓶盖</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#code%EF%BC%9A-6"><span class="nav-text">code：</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E5%A4%A7%E5%80%BC%E6%9C%80%E5%B0%8F%EF%BC%8C%E6%9C%80%E5%B0%8F%E5%80%BC%E6%9C%80%E5%A4%A7-%E7%B1%BB-%E9%97%AE%E9%A2%98%E8%A7%A3%E9%A2%98%E6%96%B9%E5%90%91%EF%BC%9A"><span class="nav-text">最大值最小，最小值最大 类 问题解题方向：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E7%9F%AD%E8%B7%9D%E7%A6%BB%E6%9C%80%E5%A4%A7%E5%8C%96%E9%97%AE%E9%A2%98%EF%BC%9A%E4%BF%9D%E8%AF%81%E4%BB%BB%E6%84%8F%E5%8C%BA%E9%97%B4%E8%B7%9D%E7%A6%BB%E8%A6%81%E6%AF%94%E6%9C%80%E7%9F%AD%E8%B7%9D%E7%A6%BB-mid-%E5%A4%A7%E6%88%96%E7%9B%B8%E7%AD%89%EF%BC%88%E8%BF%99%E6%A0%B7%EF%BC%8Cmid-%E6%89%8D%E6%98%AF%E6%9C%80%E7%9F%AD%E8%B7%9D%E7%A6%BB%EF%BC%89%E5%8D%B3%EF%BC%9A%E5%8C%BA%E9%97%B4%E7%9A%84%E8%B7%9D%E7%A6%BB-gt-mid"><span class="nav-text">最短距离最大化问题：保证任意区间距离要比最短距离 mid 大或相等（这样，mid 才是最短距离）即：区间的距离 &gt;&#x3D;mid</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E9%95%BF%E8%B7%9D%E7%A6%BB%E6%9C%80%E5%B0%8F%E5%8C%96%E9%97%AE%E9%A2%98%EF%BC%9A%E4%BF%9D%E8%AF%81%E4%BB%BB%E6%84%8F%E5%8C%BA%E9%97%B4%E8%B7%9D%E7%A6%BB%E8%A6%81%E6%AF%94%E6%9C%80%E5%A4%A7%E8%B7%9D%E7%A6%BB-mid-%E5%B0%8F%E6%88%96%E7%9B%B8%E7%AD%89%EF%BC%88%E8%BF%99%E6%A0%B7%EF%BC%8Cmid-%E6%89%8D%E6%98%AF%E6%9C%80%E5%A4%A7%E8%B7%9D%E7%A6%BB%EF%BC%89%E5%8D%B3%EF%BC%9A%E5%8C%BA%E9%97%B4%E7%9A%84%E8%B7%9D%E7%A6%BB-lt-mid"><span class="nav-text">最长距离最小化问题：保证任意区间距离要比最大距离 mid 小或相等（这样，mid 才是最大距离）即：区间的距离 &lt;&#x3D;mid</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BE%8B-4%E2%80%94%E2%80%94%E6%95%B0%E5%88%97%E5%88%86%E6%AE%B5-Section-II"><span class="nav-text">例 4——数列分段 Section II</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#code%EF%BC%9A-7"><span class="nav-text">code：</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="FXJFXJ"
      src="/images/8e78b9e9e316fb38c4483af628530815.jpg">
  <p class="site-author-name" itemprop="name">FXJFXJ</p>
  <div class="site-description" itemprop="description">A story about ACMer and Programmer😇</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">255</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">50</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/bakebakebakebake" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;bakebakebakebake" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="qq:fxjgo@qq.com" title="E-Mail → qq:fxjgo@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/22060498/fxjfxj" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;22060498&#x2F;fxjfxj" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/2071277173?spm_id_from=333.1007.0.0" title="Bilibili → https:&#x2F;&#x2F;space.bilibili.com&#x2F;2071277173?spm_id_from&#x3D;333.1007.0.0" rel="noopener" target="_blank"><i class="iconfont icon-bilibili-line fa-fw"></i>Bilibili</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.nowcoder.com/users/856358952" title="Nowcoder → https:&#x2F;&#x2F;www.nowcoder.com&#x2F;users&#x2F;856358952" rel="noopener" target="_blank"><i class="fab fa-freebsd fa-fw"></i>Nowcoder</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/4-95-22-83" title="Zhihu → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;4-95-22-83" rel="noopener" target="_blank"><i class="fab fa-zhihu fa-fw"></i>Zhihu</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://atcoder.jp/users/FXJFXJ" title="AtCoder → https:&#x2F;&#x2F;atcoder.jp&#x2F;users&#x2F;FXJFXJ" rel="noopener" target="_blank"><i class="fab fa-wolf-pack-battalion fa-fw"></i>AtCoder</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://codeforces.com/profile/FXJFXJ" title="Codeforces → https:&#x2F;&#x2F;codeforces.com&#x2F;profile&#x2F;FXJFXJ" rel="noopener" target="_blank"><i class="fab fa-grav fa-fw"></i>Codeforces</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FXJFXJ</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">NaNm</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">NaN:aN</span>
</div><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>

<div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv" style='display:none'>
    本站总访问量 <span id="busuanzi_value_site_pv"></span> 次
    <span class="post-meta-divider">|</span>
</span>
<span id="busuanzi_container_site_uv" style='display:none'>
    有<span id="busuanzi_value_site_uv"></span>人看过我的博客
</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '68555ce0994478cbe4b2',
      clientSecret: '7fc441c67a52788e5da104489ac9326d2fb32d65',
      repo        : 'bakebakebakebake.github.io',
      owner       : 'bakebakebakebake',
      admin       : ['bakebakebakebake'],
      id          : '8a220af1474dee27d91e7031de77b994',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
