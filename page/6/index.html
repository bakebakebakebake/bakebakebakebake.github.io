<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/freelance.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/freelance.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="baidu-site-verification" content="f1d5bcefa8482d6d527c69831a4fbc61">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"bakebakebakebake.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"livere","storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="A story about ACMer and ProgrammerğŸ˜‡">
<meta property="og:type" content="website">
<meta property="og:title" content="FXJFXJ">
<meta property="og:url" content="https://bakebakebakebake.github.io/page/6/index.html">
<meta property="og:site_name" content="FXJFXJ">
<meta property="og:description" content="A story about ACMer and ProgrammerğŸ˜‡">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="FXJFXJ">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://bakebakebakebake.github.io/page/6/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>FXJFXJ</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f1d5bcefa8482d6d527c69831a4fbc61";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">FXJFXJ</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/bakebakebakebake" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/ca92b638/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/ca92b638/" class="post-title-link" itemprop="url">B3645 æ•°åˆ—å‰ç¼€å’Œ 2 - æ´›è°·</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:35:24 / ä¿®æ”¹æ—¶é—´ï¼š20:18:08" itemprop="dateCreated datePublished" datetime="2024-01-12T19:35:24+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/luogu/" itemprop="url" rel="index"><span itemprop="name">luogu</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>245</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/B3645">B3645 æ•°åˆ—å‰ç¼€å’Œ 2 - æ´›è°·</a><br><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/blog/lrqlrq250/b-3645-shuo-lie-qian-zhui-hu-2-ti-xie">B 3645 æ•°åˆ—å‰ç¼€å’Œ2 é¢˜è§£ - lrqlrq250 çš„åšå®¢ - æ´›è°·åšå®¢</a></p>
<p>å¸¸ç”¨çš„ $\LaTeX$ å…¬å¼<br>![[../../../../images/Z-attachment/Pasted image 20231127160008.png]]</p>
<p>![[../../../../images/Z-attachment/Pasted image 20231127154615.png]]</p>
<p> $\prod \limits<em>{i=l}^r a_i \pmod p$ å‘ç°ç­‰ä»·äº $\Huge{\frac{\prod\limits</em>{i=1}^{r}a<em>i}{\prod\limits</em>{i=1}^{l-1} a_i}}$ </p>
<p> åˆ™ç­”æ¡ˆä¸º $\prod\limits<em>{i=1}^{r}a_i \times inv[\prod\limits</em>{i=1}^{l-1}a_i]$ , $inv[i]$ ä¸º $i$ åœ¨ $\mod p$ æ„ä¹‰ä¸‹çš„ä¹˜æ³•é€†å…ƒ</p>
<p>å³ä¸º $s[r]\times inv[s[l-1]]$ ,<br>$\therefore$ $ans\ \oplus={s[r]\times inv[s[l-1]]}$ </p>
<figure class="highlight cpp"><figcaption><span>HL:"21,15"</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="type">const</span> ll p = <span class="number">1145141</span>;</span><br><span class="line"><span class="type">int</span> n, q;</span><br><span class="line">ll a[<span class="number">1000010</span>],inv[<span class="number">1200010</span>],s[<span class="number">1000010</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    s[<span class="number">0</span>] = inv[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt;n &gt;&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n;i++) cin &gt;&gt; a[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n;i++) s[i] = s[i - <span class="number">1</span>] * a[i] % p;<span class="comment">//å‰ç¼€ç§¯s[i]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= p; i++)<span class="comment">//åˆ°pï¼Œä¸æ˜¯åˆ°n!!ï¼</span></span><br><span class="line">        inv[i] = (p - p / i) * inv[p % i] % p;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(q--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> l, r;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r;</span><br><span class="line">        ans ^= s[r] * inv[s[l<span class="number">-1</span>]] % p;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/f358de70/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/f358de70/" class="post-title-link" itemprop="url">B3644 æ‹“æ‰‘æ’åº & å®¶è°±æ ‘ - æ´›è°·</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:35:17 / ä¿®æ”¹æ—¶é—´ï¼š20:18:11" itemprop="dateCreated datePublished" datetime="2024-01-12T19:35:17+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/luogu/" itemprop="url" rel="index"><span itemprop="name">luogu</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>511</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>2 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ã€æ¨¡æ¿ã€‘æ‹“æ‰‘æ’åº-å®¶è°±æ ‘"><a href="#ã€æ¨¡æ¿ã€‘æ‹“æ‰‘æ’åº-å®¶è°±æ ‘" class="headerlink" title="ã€æ¨¡æ¿ã€‘æ‹“æ‰‘æ’åº / å®¶è°±æ ‘"></a>ã€æ¨¡æ¿ã€‘æ‹“æ‰‘æ’åº / å®¶è°±æ ‘</h1><h2 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h2><p>æœ‰ä¸ªäººçš„å®¶æ—å¾ˆå¤§ï¼Œè¾ˆåˆ†å…³ç³»å¾ˆæ··ä¹±ï¼Œè¯·ä½ å¸®æ•´ç†ä¸€ä¸‹è¿™ç§å…³ç³»ã€‚ç»™å‡ºæ¯ä¸ªäººçš„åä»£çš„ä¿¡æ¯ã€‚è¾“å‡ºä¸€ä¸ªåºåˆ—ï¼Œä½¿å¾—æ¯ä¸ªäººçš„åè¾ˆéƒ½æ¯”é‚£ä¸ªäººååˆ—å‡ºã€‚</p>
<h2 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h2><p>ç¬¬ $1$ è¡Œä¸€ä¸ªæ•´æ•° $N$ï¼ˆ$1 \le N \le 100$ï¼‰ï¼Œè¡¨ç¤ºå®¶æ—çš„äººæ•°ã€‚æ¥ä¸‹æ¥ $N$ è¡Œï¼Œç¬¬ $i$ è¡Œæè¿°ç¬¬ $i$ ä¸ªäººçš„åä»£ç¼–å· $a<em>{i,j}$ï¼Œè¡¨ç¤º $a</em>{i,j}$ æ˜¯ $i$ çš„åä»£ã€‚æ¯è¡Œæœ€åæ˜¯ $0$ è¡¨ç¤ºæè¿°å®Œæ¯•ã€‚</p>
<h2 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h2><p>è¾“å‡ºä¸€ä¸ªåºåˆ—ï¼Œä½¿å¾—æ¯ä¸ªäººçš„åè¾ˆéƒ½æ¯”é‚£ä¸ªäººååˆ—å‡ºã€‚å¦‚æœæœ‰å¤šç§ä¸åŒçš„åºåˆ—ï¼Œè¾“å‡ºä»»æ„ä¸€ç§å³å¯ã€‚</p>
<h2 id="æ ·ä¾‹-1"><a href="#æ ·ä¾‹-1" class="headerlink" title="æ ·ä¾‹ #1"></a>æ ·ä¾‹ #1</h2><h3 id="æ ·ä¾‹è¾“å…¥-1"><a href="#æ ·ä¾‹è¾“å…¥-1" class="headerlink" title="æ ·ä¾‹è¾“å…¥ #1"></a>æ ·ä¾‹è¾“å…¥ #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">0</span><br><span class="line">4 5 1 0</span><br><span class="line">1 0</span><br><span class="line">5 3 0</span><br><span class="line">3 0</span><br></pre></td></tr></table></figure>
<h3 id="æ ·ä¾‹è¾“å‡º-1"><a href="#æ ·ä¾‹è¾“å‡º-1" class="headerlink" title="æ ·ä¾‹è¾“å‡º #1"></a>æ ·ä¾‹è¾“å‡º #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 4 5 3 1</span><br></pre></td></tr></table></figure>
<p><del>å¾ˆä¹…ä¹‹å‰å¯èƒ½æ˜¯ Gpt å†™çš„ä»£ç </del><br>é‚»æ¥è¡¨çš„å†™æ³•ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">topsort</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;G)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n = G.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">du</span><span class="params">(n, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; G[i].<span class="built_in">size</span>(); j++)</span><br><span class="line">            du[G[i][j]]++;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">if</span> (!du[i])</span><br><span class="line">            q.<span class="built_in">push</span>(i);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; result;</span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> person = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        result.<span class="built_in">push_back</span>(person);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; G[person].<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> son = G[person][i];</span><br><span class="line">            du[son]--;</span><br><span class="line">            <span class="keyword">if</span> (!du[son])</span><br><span class="line">                q.<span class="built_in">push</span>(son);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">G</span>(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> son;</span><br><span class="line">        <span class="keyword">while</span> (cin &gt;&gt; son &amp;&amp; son != <span class="number">0</span>)</span><br><span class="line">            G[i].<span class="built_in">push_back</span>(son - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; result = <span class="built_in">topsort</span>(G);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; result.<span class="built_in">size</span>(); i++)</span><br><span class="line">        cout &lt;&lt; result[i] + <span class="number">1</span> &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>[[é“¾å¼å‰å‘æ˜Ÿå­˜å›¾]] </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> to, next;</span><br><span class="line">&#125; edge[<span class="number">2</span>*N];</span><br><span class="line"><span class="type">int</span> head[N], du[N];</span><br><span class="line"><span class="type">int</span> cnt, n;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addEdge</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt] = &#123;v, head[u]&#125;;</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">topsort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">if</span> (!du[i])</span><br><span class="line">            q.<span class="built_in">push</span>(i);</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; result;</span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> person = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        result.<span class="built_in">push_back</span>(person);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = head[person]; i != <span class="number">-1</span>; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> son = edge[i].to;</span><br><span class="line">            du[son]--;</span><br><span class="line">            <span class="keyword">if</span> (!du[son])</span><br><span class="line">                q.<span class="built_in">push</span>(son);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; result.<span class="built_in">size</span>(); i++)</span><br><span class="line">        cout &lt;&lt; result[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span> head);<span class="comment">// memset(du, 0, sizeof du);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x;</span><br><span class="line">        <span class="keyword">while</span> (cin &gt;&gt; x &amp;&amp; x != <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">addEdge</span>(i, x), du[x]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">topsort</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/d0fdc3b6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/d0fdc3b6/" class="post-title-link" itemprop="url">HDU2973</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:35:11 / ä¿®æ”¹æ—¶é—´ï¼š20:18:23" itemprop="dateCreated datePublished" datetime="2024-01-12T19:35:11+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/hdu/" itemprop="url" rel="index"><span itemprop="name">hdu</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>289</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[[å¨å°”é€Šå®šç†]]</p>
<p>ç»™å®š $n$, è®¡ç®—</p>
<p>$\sum_{k=1}^n\left\lfloor\frac{(3k+6)!+1}{3k+7}-\left\lfloor\frac{(3k+6)!}{3k+7}\right\rfloor\right\rfloor$</p>
<p>æ€è·¯ï¼š<br>å®¹æ˜“æƒ³åˆ°<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/blog/FXJ-HOME/wei-er-xun-ding-li">å¨å°”é€Šå®šç†</a></p>
<ol>
<li>è‹¥ $3k+7$ æ˜¯è´¨æ•°ï¼Œåˆ™<br>$(3k+6)!\equiv-1\pmod{3k+7}$</li>
</ol>
<p>æ˜“å¾— $(3k+6)!+1=m(3k+7)$</p>
<p>åˆ™<br>$\left\lfloor\frac{(3 k+6)!+1}{3 k+7}-\left\lfloor\frac{(3 k+6)!}{3 k+7}\right\rfloor\right\rfloor=\left\lfloor m-\left\lfloor m-\frac{1}{3 k+7}\right\rfloor\right\rfloor=1$</p>
<ol>
<li>è‹¥ $3k+7$ ä¸æ˜¯è´¨æ•° ,åˆ™æœ‰ $(3k+7)\mid(3k+6)!$ (ç”±å¨å°”é€Šå®šç†çš„æ¨è®ºï¼‰</li>
</ol>
<p>è®¾ $(3k+6)!=k(3k+7)$ï¼Œ</p>
<p>$\left\lfloor\frac{(3k+6)!+1}{3k+7}-\left\lfloor\frac{(3k+6)!}{3k+7}\right\rfloor\right\rfloor=\left\lfloor k+\frac{1}{3k+7}-k\right\rfloor=0$</p>
<p>å› æ­¤</p>
<p>$\sum<em>{k=1}^n\left\lfloor\frac{(3k+6)!+1}{3k+7}-\left\lfloor\frac{(3k+6)!}{3k+7}\right\rfloor\right\rfloor=\sum</em>{k=1}^n[3k+7\text{ is prime}]$</p>
<p>è€ƒè™‘<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/blog/FXJ-HOME/eratosthenes-shai-fa">ç­›æ³•</a>: [[ç´ æ•°ç­›æ³•]]</p>
<figure class="highlight cpp"><figcaption><span>TI:"HDU2973",HL:"13,14"</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> M = <span class="number">1e6</span> + <span class="number">5</span>, N = <span class="number">3</span> * M + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> not_prime[N];</span><br><span class="line"><span class="type">int</span> sum[M];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; N; ++i)</span><br><span class="line">    <span class="keyword">if</span> (!not_prime[i])</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j * i &lt; N; ++j) </span><br><span class="line">      not_prime[j * i] = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; M; ++i) </span><br><span class="line">  sum[i] = sum[i - <span class="number">1</span>] + !not_prime[<span class="number">3</span> * i + <span class="number">7</span>];</span><br><span class="line"></span><br><span class="line">  <span class="type">int</span> t;</span><br><span class="line">  std::cin &gt;&gt; t;</span><br><span class="line">  <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    std::cin &gt;&gt; n;</span><br><span class="line">    std::cout &lt;&lt; sum[n] &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/67dae086/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/67dae086/" class="post-title-link" itemprop="url">HDUæ–°ç”Ÿèµ›</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:35:05 / ä¿®æ”¹æ—¶é—´ï¼š20:18:56" itemprop="dateCreated datePublished" datetime="2024-01-12T19:35:05+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/contest/" itemprop="url" rel="index"><span itemprop="name">contest</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>4 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1004-æ™ºèƒ½è½¦"><a href="#1004-æ™ºèƒ½è½¦" class="headerlink" title="1004 æ™ºèƒ½è½¦"></a><a target="_blank" rel="noopener" href="https://acm.hdu.edu.cn/contest/problem?cid=1116&amp;pid=1004">1004 æ™ºèƒ½è½¦</a></h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>çœ‹æ˜¯å¦å­˜åœ¨è‹¥å¹²ä¸­æ–¹æ¡ˆä½¿å¾— $p<em>{x</em>{1}}+p<em>{x</em>{2}}+p<em>{x</em>{3}}+\dots=c$ </p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>ä¸€å…± $T$ ç»„æ•°æ®ï¼Œå¯¹äºæ¯ä¸€ç»„æ•°æ®ï¼š<br>$\boxed{\begin{array}&amp;n&amp;c\p<em>{1}&amp;p</em>{2}&amp;p<em>{3}&amp;\dots&amp;p</em>{n}\end{array}}$<br>æ•°æ®èŒƒå›´ï¼š</p>
<ul>
<li>$1\leq T\leq 10$</li>
<li>$1\leq n\leq 5\times 10^4$</li>
<li>$1\leq c\leq 500$</li>
<li>$1\leq p_{i}\leq c$<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2>æ‰¾å‡ºä¸€ä¸ªæ–¹æ¡ˆæ»¡è¶³æœ€å¤§å€¼å’Œæœ€å°å€¼ç›¸å·®æœ€å°ï¼Œæ±‚å‡ºæœ€å°çš„å·®å€¼ã€‚å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„æ–¹æ¡ˆï¼Œè¾“å‡ºâˆ’1ã€‚<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">4 10</span><br><span class="line">3 7 2 5</span><br></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure>
<h2 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h2>æ ·ä¾‹ä¸­ï¼Œä¸€ç§å¯è¡Œçš„æ–¹æ¡ˆæ˜¯ $[3,2,5]$ï¼Œå·®å€¼ä¸º $3$ã€‚å¯ä»¥è¯æ˜ä¸å­˜åœ¨å·®å€¼æ›´å°çš„æ–¹æ¡ˆã€‚<h1 id="1008-å¤§é›ªçƒ"><a href="#1008-å¤§é›ªçƒ" class="headerlink" title="1008 å¤§é›ªçƒ"></a><a target="_blank" rel="noopener" href="https://acm.hdu.edu.cn/contest/problem?cid=1116&amp;pid=1008">1008 å¤§é›ªçƒ</a></h1><h2 id="Description-1"><a href="#Description-1" class="headerlink" title="Description"></a>Description</h2>æŠŠä¸¤ä¸ªä¸åŒçš„æ•°åˆæˆä¸€ä¸ªæ›´å¤§çš„æ•°æ‰”å‡ºå»<br>ä¾‹å¦‚ä¸¤ä¸ªæ•°çš„å¤§å°åˆ†åˆ«ä¸º $x,y$ å¯ä»¥åˆæˆä¸€ä¸ª $x+y$ çš„å¤§æ•°ã€‚<br>æ±‚å‡ºåœ¨æ‰€æœ‰çš„åˆæˆæ–¹æ¡ˆä¸­ï¼Œç¬¬ $k$ å°çš„å¤§æ•°çš„å¤§å°ã€‚<br>ä¸¤ä¸ªåˆæˆæ–¹æ¡ˆä¸åŒå½“ä¸”ä»…å½“è‡³å°‘ä¸€ä¸ªæ•°çš„åºå·ä¸åŒã€‚<h2 id="input"><a href="#input" class="headerlink" title="input"></a>input</h2>æœ‰ $T$ ç»„æ•°æ®ï¼Œå¯¹äºæ¯ç»„æ•°æ®;<br>$\boxed{\begin{array}&amp;n\v<em>{1}&amp;v</em>{2}&amp;v<em>{3}&amp;\dots&amp;v</em>{n}\k\end{array}}$<br>æ•°æ®èŒƒå›´ï¼š </li>
<li>$1\leq T\leq 10,2\leq n\leq 1\times10^5,1\leq v_{i}\leq 10^9,1\leq k\leq \frac{n\times(n-1)}{2}$<h2 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h2>è¾“å‡ºç¬¬ $k$ å°çš„å¤§æ•°çš„å¤§å°ã€‚ </li>
</ul>
<h2 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">4</span><br><span class="line">2 3 4 5</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<h2 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output"></a>Sample Output</h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7</span><br></pre></td></tr></table></figure>
<h2 id="Hint-1"><a href="#Hint-1" class="headerlink" title="Hint"></a>Hint</h2><p>æ ·ä¾‹ä¸­ï¼Œå¯ä»¥åˆæˆ $6$ ç§ä¸åŒçš„å¤§é›ªçƒï¼ŒæŒ‰ä½“ç§¯æ’åºåä¸º $[5,6,7,7,8,9]$ï¼Œå› æ­¤ä½“ç§¯ç¬¬ $3$ å°çš„å¤§é›ªçƒçš„ä½“ç§¯ä¸º 7ã€‚</p>
<h1 id="1009-åºåˆ—"><a href="#1009-åºåˆ—" class="headerlink" title="1009 åºåˆ—"></a><a target="_blank" rel="noopener" href="https://acm.hdu.edu.cn/contest/problem?cid=1116&amp;pid=1009">1009 åºåˆ—</a></h1><p>æ±‚ $\sum\limits<em>{l=1}^n\sum\limits</em>{r=l}^n(a<em>{l}\oplus a</em>{l+1}\oplus\dots \oplus a<em>{r})\times \min</em>{l\leq i\leq r}a<em>{i}$ å¯¹ $998244353$ å–æ¨¡çš„å€¼ã€‚<br>è¾“å…¥<br>$\boxed{\begin{array}&amp;T\n\a</em>{1}&amp;a<em>{2}&amp;a</em>{3}&amp;\dots&amp;a_{n}\end{array}}$<br>è¾“å‡ºç­”æ¡ˆ<br>è¾“å…¥æ ·ä¾‹<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">2 3 4</span><br><span class="line">5</span><br><span class="line">5 12 18 8 17</span><br></pre></td></tr></table></figure><br>è¾“å‡ºæ ·ä¾‹<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">62</span><br><span class="line">2219</span><br></pre></td></tr></table></figure><br>ä»£ç (ä¸ç¡®å®šæ­£ç¡®æ€§)<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MOD 998244353</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line"></span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> l = <span class="number">0</span>; l &lt; n; l++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> prefixXOR = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> minVal = a[l];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> r = l; r &lt; n; r++)</span><br><span class="line">        &#123;</span><br><span class="line">            prefixXOR ^= a[r];</span><br><span class="line">            minVal = <span class="built_in">min</span>(minVal, a[r]);</span><br><span class="line">            ans = (ans + (prefixXOR * minVal) % MOD) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> _;</span><br><span class="line">    cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span>(_--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="1003"><a href="#1003" class="headerlink" title="1003"></a>1003</h1><p>![[../../../../images/Z-attachment/Pasted image 20231230174217.png]]<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MOD 998244353</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> node, <span class="type">int</span> k, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;graph, vector&lt;<span class="type">int</span>&gt; &amp;evilValue, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; &amp;dp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (dp[node][k] != <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> dp[node][k];</span><br><span class="line">    <span class="type">int</span> result = (evilValue[node] &lt;= k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> neighbor : graph[node])</span><br><span class="line">        <span class="keyword">if</span> (k &gt;= evilValue[node])</span><br><span class="line">            result = (result + <span class="built_in">dfs</span>(neighbor, k / evilValue[node], graph, evilValue, dp)) % MOD;</span><br><span class="line">    dp[node][k] = result;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> n, m, k;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">evilValue</span><span class="params">(n)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            cin &gt;&gt; evilValue[i];</span><br><span class="line"></span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">graph</span>(n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> u, v;</span><br><span class="line">            cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">            graph[u - <span class="number">1</span>].<span class="built_in">push_back</span>(v - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dp</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(k + <span class="number">1</span>, <span class="number">-1</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> totalPaths = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            totalPaths = (totalPaths + <span class="built_in">dfs</span>(i, k, graph, evilValue, dp)) % MOD;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; totalPaths &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h1 id="1007"><a href="#1007" class="headerlink" title="1007"></a>1007</h1><p>![[../../../../images/Z-attachment/Pasted image 20231230174200.png]]<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">1005</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXK = <span class="number">6</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">State</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, y, t;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">char</span> grid[MAXK][MAXN][MAXN];</span><br><span class="line"><span class="type">bool</span> visited[MAXK][MAXN][MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> T;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span> (T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(visited, <span class="number">0</span>, <span class="built_in">sizeof</span>(visited));</span><br><span class="line">        <span class="type">int</span> n, m, k;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> l = <span class="number">0</span>; l &lt; m; l++)</span><br><span class="line">                &#123;</span><br><span class="line">                    cin &gt;&gt; grid[i][j][l];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> h, ex, ey;</span><br><span class="line">        cin &gt;&gt; h &gt;&gt; ex &gt;&gt; ey;</span><br><span class="line"></span><br><span class="line">        queue&lt;State&gt; q;</span><br><span class="line">        q.<span class="built_in">push</span>(&#123;n, m, <span class="number">0</span>&#125;);</span><br><span class="line">        visited[<span class="number">0</span>][n][m] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!q.<span class="built_in">empty</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            State cur = q.<span class="built_in">front</span>();</span><br><span class="line">            q.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (cur.x == ex &amp;&amp; cur.y == ey)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; cur.t &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> nx = cur.x + dx[i];</span><br><span class="line">                <span class="type">int</span> ny = cur.y + dy[i];</span><br><span class="line">                <span class="keyword">if</span> (nx &lt; <span class="number">1</span> || nx &gt; n || ny &lt; <span class="number">1</span> || ny &gt; m)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span> (grid[(cur.t + <span class="number">1</span>) % k][nx][ny] == <span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= h; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="type">int</span> tx = nx - j;</span><br><span class="line">                    <span class="keyword">if</span> (tx &lt;= <span class="number">0</span>)</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">if</span> (grid[(cur.t + <span class="number">1</span>) % k][tx][ny] == <span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">if</span> (visited[(cur.t + <span class="number">1</span>) % k][tx][ny])</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                    visited[(cur.t + <span class="number">1</span>) % k][tx][ny] = <span class="literal">true</span>;</span><br><span class="line">                    q.<span class="built_in">push</span>(&#123;tx, ny, cur.t + <span class="number">1</span>&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="1005"><a href="#1005" class="headerlink" title="1005"></a>1005</h1><p>![[../../../../images/Z-attachment/Pasted image 20231230174109.png]]</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; tree;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; depth;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; xorValues;</span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; weight;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> node, <span class="type">int</span> parent, <span class="type">int</span> xorVal, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    depth[node] = d;</span><br><span class="line">    xorValues[node] = xorVal;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> child : tree[node])</span><br><span class="line">        <span class="keyword">if</span> (child != parent)</span><br><span class="line">            <span class="built_in">dfs</span>(child, node, xorVal ^ weight[node][child], d + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line"></span><br><span class="line">        tree.<span class="built_in">resize</span>(n + <span class="number">1</span>);</span><br><span class="line">        depth.<span class="built_in">resize</span>(n + <span class="number">1</span>);</span><br><span class="line">        xorValues.<span class="built_in">resize</span>(n + <span class="number">1</span>);</span><br><span class="line">        weight.<span class="built_in">assign</span>(n + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> u, v, w;</span><br><span class="line">            cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">            tree[u].<span class="built_in">push_back</span>(v);</span><br><span class="line">            tree[v].<span class="built_in">push_back</span>(u);</span><br><span class="line">            weight[u][v] = w;</span><br><span class="line">            weight[v][u] = w;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> q;</span><br><span class="line">        cin &gt;&gt; q;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; q; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> l, r, x;</span><br><span class="line">            cin &gt;&gt; l &gt;&gt; r &gt;&gt; x;</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> result = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = l; j &lt;= r; j++)</span><br><span class="line">                result += xorValues[j] ^ xorValues[x];</span><br><span class="line">            cout &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        tree.<span class="built_in">clear</span>();</span><br><span class="line">        depth.<span class="built_in">clear</span>();</span><br><span class="line">        xorValues.<span class="built_in">clear</span>();</span><br><span class="line">        weight.<span class="built_in">clear</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="1006"><a href="#1006" class="headerlink" title="1006"></a>1006</h1><p>![[../../../../images/Z-attachment/Pasted image 20231230174412.png]]</p>
<h1 id="1002"><a href="#1002" class="headerlink" title="1002"></a>1002</h1><p>![[../../../../images/Z-attachment/Pasted image 20231230174703.png]]</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/4769aac5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/4769aac5/" class="post-title-link" itemprop="url">é‡åº†å¸‚èµ›</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:34:54 / ä¿®æ”¹æ—¶é—´ï¼š20:18:49" itemprop="dateCreated datePublished" datetime="2024-01-12T19:34:54+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/contest/" itemprop="url" rel="index"><span itemprop="name">contest</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>4k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>15 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>summary: ç¬¬åä¸€å±Šé‡åº†å¸‚å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«Ÿèµ›è¥¿å—å¤§å­¦, 2023 å¹´ 12 æœˆ 17 æ—¥</p>
<h2 id="A-Yesterday-Once-More"><a href="#A-Yesterday-Once-More" class="headerlink" title="A Yesterday Once More"></a>A Yesterday Once More</h2><p><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=239fc44c23aa3825a20a7a244b8b0fb8.png">åŸé¢˜</a><br>2 seconds<br>256 megabytes  </p>
<p>å†ç»å››å¹´, ç»ˆäºå†æ¬¡è¿æ¥é‡åº†å¸‚å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«Ÿèµ›ã€‚åœ¨ç¬¬åå±Šé‡åº†å¸‚å¤§å­¦ç”Ÿç¨‹åºè®¾è®¡ç«Ÿèµ›ä¸­, ç‹‚å° P æƒ³è§£é”å¿«ä¹ C çš„ iPhone, ä½†æ˜¯ä»–åªçŸ¥é“è§£é”å¯†ç ç”±å››ä½é˜¿æ‹‰ä¼¯æ•°å­—â€™ $0$ â€˜ ~â€™ $9$ â€˜ç»„æˆã€‚  </p>
<p>ç°åœ¨ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º 10 çš„æ•°ç»„ $D[0 . .9]$, ä¿è¯å¯¹äº $i \in[0,9] \cap \mathbb{Z}$, éƒ½æœ‰ $D<em>{i} \in{0,1} \circ D</em>{i}=0$ è¡¨ç¤ºæ•°å­— $i$ æ²¡æœ‰åœ¨è§£é”å¯†ç ä¸­å‡ºç°, $D_{i}=1$ è¡¨ç¤ºæ•°å­— $i$ åœ¨è§£é”å¯†ç ä¸­å‡ºç°è‡³å°‘ä¸€æ¬¡ã€‚  </p>
<p>å››å¹´å‰ç‹‚å° P æŒ‰ç…§å¯èƒ½çš„å¯†ç ä»å°åˆ°å¤§é€ä¸€è¿›è¡Œå°è¯•, åœ¨å››å¹´åçš„ä»Šå¤©, ç‹‚å° P å·²ç»å°è¯•åˆ°äº† $a b c d$, ç°åœ¨ä»–æƒ³çŸ¥é“ä¸‹ä¸€ä¸ªéœ€è¦å°è¯•çš„å¯èƒ½çš„å¯†ç æ˜¯å¤šå°‘ã€‚  </p>
<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡ŒåŒ…å« 10 ä¸ªæ•´æ•°, è¡¨ç¤º $D[0 . .9]$<br>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªé•¿åº¦ä¸º 4 çš„å­—ç¬¦ç”µ, è¡¨ç¤º $a b c d$ ã€‚<br>(ä¿è¯åœ¨ç»™å‡ºçš„è¾“å…¥ä¸‹, $D[a], D[b], D[c], D[d]$ éƒ½æ˜¯ 1 )ã€‚  </p>
<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>è¾“å‡ºä¸€ä¸ªé•¿åº¦ä¸º $4$ çš„å­—ç¬¦ç”µ, è¡¨ç¤ºä¸‹ä¸€ä¸ªéœ€è¦å°è¯•çš„å¯èƒ½çš„å¯†ç æ˜¯å¤šå°‘, è‹¥ä¸å­˜åœ¨ä¸‹ä¸€ä¸ªå¯èƒ½çš„å¯†ç äº†, è¾“å‡º $-1$ ã€‚  </p>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><p>input 1<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 0 0 0 1 1 0 0 0 0 </span><br><span class="line">4445</span><br></pre></td></tr></table></figure><br>ouput 1<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4454</span><br></pre></td></tr></table></figure><br>input 2<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 0 0 0 0 0 1 0 0 0 </span><br><span class="line">6666</span><br></pre></td></tr></table></figure><br>ouput 2<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1</span><br></pre></td></tr></table></figure><br>input 3<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1 1 0 0 0 0 0 0 0 0</span><br><span class="line">0001</span><br></pre></td></tr></table></figure><br>output 3<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0010</span><br></pre></td></tr></table></figure></p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>æ¯”èµ›æ—¶ï¼Œä½¿ç”¨çš„æ˜¯è¿›åˆ¶çš„åšæ³•ï¼Œä½†æ˜¯æˆ‘éœ€è¦ dfs çš„å†™æ³•.<br>gpt 4 dfs å†™æ³•<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> d[<span class="number">10</span>], code[<span class="number">4</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">inc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; code[i] == <span class="number">9</span>)</span><br><span class="line">        code[i] = <span class="number">0</span>,i--;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= <span class="number">0</span>)</span><br><span class="line">        code[i]++;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>), cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">        cin &gt;&gt; d[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">char</span> c;</span><br><span class="line">        cin &gt;&gt; c;</span><br><span class="line">        code[i] = c - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="built_in">inc</span>();</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">            <span class="keyword">if</span> (d[code[i]] == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">4</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">                cout &lt;&lt; code[i];</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œé¦–å…ˆè¾“å…¥ $d[0â€¦ 9]$å’Œå½“å‰å¯†ç  $abcd$ã€‚ç„¶åé€šè¿‡ä¸æ–­å¢åŠ  $abcd$ çš„å€¼ç›´åˆ°æ‰¾åˆ°ä¸‹ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å¯†ç ã€‚<code>inc ()</code> å‡½æ•°æ˜¯ç”¨æ¥å¢åŠ å¯†ç çš„ï¼Œå¦‚æœæ‰¾ä¸åˆ°ç¬¦åˆè¦æ±‚çš„å¯†ç ï¼Œé‚£ä¹ˆè¿”å›<code>-1</code>ã€‚å¯¹äºæ¯ä¸ªå¢åŠ çš„å¯†ç ï¼Œæ£€æŸ¥å®ƒçš„æ¯ä¸€ä½æ˜¯å¦éƒ½å‡ºç°åœ¨ $d[0â€¦ 9]$ä¸­ï¼Œå¦‚æœéƒ½å‡ºç°äº†ï¼Œé‚£ä¹ˆè¾“å‡ºè¿™ä¸ªå¯†ç å¹¶ç»“æŸç¨‹åºã€‚</p>
<h2 id="B-å…¸"><a href="#B-å…¸" class="headerlink" title="B å…¸"></a>B å…¸</h2><p>[[16109]] å’Œ B é¢˜å¾ˆåƒã€‚<br>Time limit:  2 seconds<br>Memory limit:  256 megabytes<br><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=7c7a083d853bb9bbefa396ef642bb06d.png">åŸé¢˜</a><br>cxvdzxhb å–œæ¬¢å¹³æ–¹æ•°, æ¯”å¦‚ $0,1,4,9,16, \ldots$ ã€‚ä½†æ˜¯å‘ç°æœ‰äº›æ•°å¯ä»¥è¡¨ç¤ºæˆä¸¤ä¸ªå¹³æ–¹æ•°çš„å’Œ, ä»–è§‰å¾—è¿™æ ·çš„æ•°<strong>å…¸</strong>ã€‚æ¯”å¦‚ $1=0^{2}+1^{2}, 2=1^{2}+1^{2}, 10=1^{2}+3^{2}, 25=3^{2}+4^{2}$.<br>cxvdzxhbx ç°åœ¨å¾—åˆ°äº†ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„åºåˆ— $a_{i}$ å’Œ $q$ æ¬¡è¯¢é—®ã€‚<br>æ¯æ¬¡é—® $(l, r)$ è¡¨ç¤ºé—®åŒºé—´ $[l, r]$ ä¸­çš„æ•°æ‰€æ„æˆçš„é›†åˆ, æœ‰å¤šå°‘ä¸ªéç©ºå­é›†, æ»¡è¶³å­é›†ä¸­çš„æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯æ‰€è¡¨ç¤ºçš„æ•°<strong>å…¸</strong>ã€‚</p>
<h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡Œ 2 ä¸ªæ•´æ•° $n, q\left(1 \leqslant n, q \leqslant 10^{5}\right)$ è¡¨ç¤ºåºåˆ—çš„å…ƒç´ æ•°å’Œè¯¢é—®ä¸ªæ•°ã€‚<br>ç¬¬äºŒè¡Œæœ‰ $n$ ä¸ªæ•´æ•° $a<em>{i}\left(1 \leqslant a</em>{i} \leqslant 10^{7}\right)$ ã€‚<br>æ¥ä¸‹æ¥ $q$ è¡Œ, å…¶ä¸­ç¬¬ $i$ è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° $l<em>{i}, r</em>{i}\left(1 \leqslant l<em>{i} \leqslant r</em>{i} \leqslant n\right)$ è¡¨ç¤ºè¯¢é—®çš„åŒºé—´ã€‚  </p>
<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3><p>å¯¹äºæ¯ä¸ªè¯¢é—®, è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°, è¡¨ç¤ºç­”æ¡ˆ, ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§, ä½ éœ€è¦å¯¹ $998244353$ å–æ¨¡  </p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>input<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">5 3</span><br><span class="line">1 2 3 4 5</span><br><span class="line">1 2</span><br><span class="line">3 3</span><br><span class="line">3 5</span><br></pre></td></tr></table></figure><br>output<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">0</span><br><span class="line">3</span><br></pre></td></tr></table></figure></p>
<h2 id="C-ç”µè·¯"><a href="#C-ç”µè·¯" class="headerlink" title="C ç”µè·¯"></a>C ç”µè·¯</h2><p>2 seconds<br>256 megabytes<br><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=a361715568f17c737e72cbdbd3da3c55.png">åŸé¢˜</a><br>æœ‰ä¸€ä¸ªç”µè·¯, ç”± $n$ ä¸ªå…ƒä»¶å’Œ $m$ ä¸ªå¯¼çº¿æ„æˆã€‚å¯¹äº $i$ å·å…ƒå™¨ä»¶, æˆ‘ä»¬éœ€è¦ä¸ºè¯¥å…ƒä»¶é€‰æ‹©ä¸€ä¸ª $1 \sim L<em>{i}$ çš„æ­£æ•´æ•°ç”µå‹, è®°ä¸º $a</em>{i}$, ä¸ºäº†è®©è¯¥å…ƒå™¨ä»¶åœ¨è¯¥ç”µå‹ä¸‹æ­£å¸¸å·¥ä½œ, æˆ‘ä»¬éœ€è¦ $c<em>{i, a i}$ çš„æˆæœ¬ã€‚ï¼ˆå¹¶ä¸æ˜¯é€‰æ‹©çš„ç”µå‹è¶Šé«˜æˆæœ¬è¶Šå¤§)ã€‚å¯¹äºå¯¼çº¿ $i$, å®ƒè¿æ¥äº†ä¸¤ä¸ªå…ƒå™¨ä»¶ $u, v$, å…¶ç”µå‹åˆ†åˆ«ä¸º $a</em>{u}, a<em>{v}$, åˆ™è¿™ä¸ªå¯¼çº¿éœ€è¦ç»´æŠ¤æˆæœ¬ $b</em>{i} \times\left|a<em>{u}-a</em>{v}\right|$, è¯·ä½ ä¸ºæ¯ä¸ªå…ƒå™¨ä»¶é€‰æ‹©åˆé€‚çš„ç”µå‹, è®©æ•´ä¸ªç”µè·¯çš„æˆæœ¬æœ€å°ã€‚  </p>
<h3 id="Input-2"><a href="#Input-2" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° $n(1 \leq n \leq 30)$ å’Œ $m(1 \leq m \leq 100)$ ã€‚<br>æ¥ä¸‹æ¥ $n$ è¡Œ,å…¶ä¸­ç¬¬ $i$ è¡Œå¼€å¤´æœ‰ä¸€ä¸ªæ•´æ•° $L<em>{i}\left(1 \leq L</em>{i} \leq 10\right)$, æ¥ä¸‹æ¥ $L<em>{i}$ ä¸ªæ•´æ•° $c</em>{i, 1}, c<em>{i, 1}, \ldots, c</em>{i, L<em>{i}}$ $\left(1 \leq c</em>{i, j} \leq 10^{9}\right)$ è¡¨ç¤ºå¯¹äºç¬¬ $i$ ä¸ªå™¨ä»¶, å…¶ç”µå‹ä¸º $j$ æ—¶çš„ç»´æŠ¤æˆæœ¬ä¸º $c_{i, j}$ ã€‚  </p>
<p>æ¥ä¸‹æ¥ $m$ è¡Œ, å…¶ä¸­ç¬¬ $i$ è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° $u, v(1 \leq u, v \leq n)$ è¡¨ç¤ºç¬¬ $i$ æ ¹å¯¼çº¿è¿æ¥äº† $u$ å’Œ $v$ ä¸¤ä¸ªå…ƒä»¶, $b<em>{i}$ $\left(1 \leq b</em>{i} \leq 10^{9}\right)$ è¡¨ç¤ºè¿™ä¸¤ä¸ªå…ƒä»¶çš„ç”µå‹çš„å•ä½å·®å€¼ä¸‹éœ€è¦èŠ±è´¹çš„æˆæœ¬ã€‚  </p>
<h3 id="Output-2"><a href="#Output-2" class="headerlink" title="Output"></a>Output</h3><p>è¾“å‡ºä»…ä¸€ä¸ªæ•´æ•°, è¡¨ç¤ºæœ€å°æˆæœ¬ã€‚  </p>
<h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><p>input<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">5 4</span><br><span class="line">4 1 100 100 100</span><br><span class="line">2 100 1</span><br><span class="line">3 100 100 1</span><br><span class="line">5 100 100 100 1 1</span><br><span class="line">2 100 1</span><br><span class="line">1 2 5</span><br><span class="line">1 3 5</span><br><span class="line">1 4 10</span><br><span class="line">1 5 5</span><br></pre></td></tr></table></figure><br>output<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">55</span><br></pre></td></tr></table></figure></p>
<h2 id="D-æ¬ç©ºå•†åº—"><a href="#D-æ¬ç©ºå•†åº—" class="headerlink" title="D æ¬ç©ºå•†åº—"></a>D æ¬ç©ºå•†åº—</h2><p>Time limit:  2 seconds<br>Memory limit:  256 megabytes<br><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=1d3a641656b65bb6a67367087c624694.png">åŸé¢˜</a><br>æŸæ‰‹æ¸¸æœ‰ $\mathrm{ABCD}$ å››ä¸ªå‰¯æœ¬, ä¸ºäº†å®Œç¾æ¯•ä¸š, ä½ éœ€è¦é“œææ–™ $a$ ä¸ª, é“¶ææ–™ $b$ ä¸ª, é‡‘ææ–™ $c$ ä¸ª, ç‰¹æ®Šææ–™ $d$ ä¸ªã€‚  </p>
<ul>
<li>åˆ·ä¸€æ¬¡ $\mathrm{A}$ å‰¯æœ¬, ä½ å¯ä»¥å¾—åˆ° $A a$ ä¸ªé“œææ–™, $A d$ ä¸ªç‰¹æ®Šææ–™ã€‚  </li>
<li>åˆ·ä¸€æ¬¡ B å‰¯æœ¬, ä½ å¯ä»¥å¾—åˆ° $B b$ ä¸ªé“¶ææ–™, $B d$ ä¸ªç‰¹æ®Šææ–™ã€‚  </li>
<li>åˆ·ä¸€æ¬¡ $\mathrm{C}$ å‰¯æœ¬, ä½ å¯ä»¥å¾—åˆ° $C c$ ä¸ªé‡‘ææ–™, $C d$ ä¸ªç‰¹æ®Šææ–™ã€‚  </li>
<li>åˆ·ä¸€æ¬¡ D å‰¯æœ¬, ä½ å¯ä»¥å¾—åˆ° $D a$ ä¸ªé“œææ–™, $D b$ ä¸ªé“¶ææ–™, $D c$ ä¸ªé‡‘ææ–™, $D d$ ä¸ªç‰¹æ®Šææ–™ã€‚  </li>
</ul>
<p>å¦å¤– 5 ä¸ªé“œææ–™å¯ä»¥è½¬æ¢ä¸º 1 ä¸ªé“¶ææ–™, 5 ä¸ªé“¶ææ–™å¯ä»¥è½¬æ¢ä¸º 1 ä¸ªé‡‘ææ–™ã€‚<br>é—®æœ€å°‘åˆ·å¤šå°‘æ¬¡å‰¯æœ¬, æ‰èƒ½å®Œç¾å•†åº—æ¯•ä¸š, åŒæ—¶ä½ è¿˜æƒ³çŸ¥é“ ABCD å‰¯æœ¬åˆ†åˆ«è¦åˆ·å¤šå°‘æ¬¡ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆæ»¡è¶³æ¡ä»¶, ä½ æƒ³å°½å¯èƒ½çš„å°‘åˆ· $\mathrm{A}$ å‰¯æœ¬ã€‚å¦‚æœè¿™æ—¶å€™è¿˜æœ‰å¤šä¸ªç­”æ¡ˆæ»¡è¶³æ¡ä»¶, å°±å°½å¯èƒ½çš„å°‘åˆ· $\mathrm{B}$ å‰¯æœ¬ã€‚å¦‚æœè¿˜æœ‰, å°±å°½å¯èƒ½çš„å°‘åˆ· C å‰¯æœ¬ã€‚  </p>
<h3 id="Input-3"><a href="#Input-3" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡Œ 4 ä¸ªæ•´æ•° $a, b, c, d(1000 \leqslant a, b, c, d \leqslant 2000) ã€‚$<br>ç¬¬äºŒè¡Œ 2 ä¸ªæ•´æ•° $A a, A d(10 \leqslant A a, A d \leqslant 100)$ ã€‚<br>ç¬¬ä¸‰è¡Œ 2 ä¸ªæ•´æ•° $B b, B d(10 \leqslant B b, B d \leqslant 100)$ ã€‚<br>ç¬¬å››è¡Œ 2 ä¸ªæ•´æ•° $C c, C d(10 \leqslant C c, C d \leqslant 100)$ ã€‚<br>ç¬¬äº”è¡Œ 4 ä¸ªæ•´æ•° $D a, D b, D c, D d(10 \leqslant D a, D b, D c, D d \leqslant 100) ã€‚$  </p>
<h3 id="Output-3"><a href="#Output-3" class="headerlink" title="Output"></a>Output</h3><p>è¾“å‡ºä¸€è¡Œ, åŒ…å«äº”ä¸ªæ•´æ•°, ç¬¬ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæ€»åˆ·æœ¬æ¬¡æ•°, åé¢å››ä¸ªæ•´æ•°åˆ†åˆ«è¡¨ç¤º $\mathrm{ABCD}$ æœ¬çš„åˆ·æœ¬æ¬¡æ•°  </p>
<h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h3><p>input<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">100 200 300 400</span><br><span class="line">100 10</span><br><span class="line">90 10</span><br><span class="line">80 10</span><br><span class="line">10 11 12 70</span><br></pre></td></tr></table></figure><br>output<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">11 1 2 3 5</span><br></pre></td></tr></table></figure></p>
<h2 id="E-Misreading"><a href="#E-Misreading" class="headerlink" title="E Misreading"></a>E Misreading</h2><p>Time limit:  2 seconds<br>Memory limit:  256 megabytes<br><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=9c7a27ef4ce89ce024615ca895f393d5.png">åŸé¢˜</a></p>
<blockquote>
<p>[!NOTE] åŸé¢˜<br>Given is a positive integer $n$. Consider repeatedly applying the operation below on $n$ : First, choose a positive integer $z$ satisfying all of the conditions below:  </p>
<ol>
<li>$z$ can be represented as $z=p^{e}$, where $p$ is a prime number and $e$ is a positive integer;  </li>
<li>$z$ divides $n$;  </li>
<li>$z$ is different from all integers chosen in previous operations.  </li>
</ol>
<p>Then, replace $n$ with $\frac{n}{z}$.<br>Find the maximum number of times the operation can be applied.<br>The above problem is from <a target="_blank" rel="noopener" href="https://atcoder.jp/contests/abc169/tasks/abc169_d">D - Div Game</a></p>
<p>When lajiniunai first faced this problem, he read it wrong, changed the third condition to â€œ $e$ is different from all integers chosen in previous operationsâ€. Then the three condition is changed to the following  </p>
<ol>
<li>$z$ can be represented as $z=p^{e}$, where $p$ is a prime number and $e$ is a positive integer;  </li>
<li>$z$ divides $n$;  </li>
<li>$e$ is different from all integers chosen in previous operations.  </li>
</ol>
<p>Now with others unchanging, find the maximum number of times the operation can be applied.  </p>
<h3 id="Input-4"><a href="#Input-4" class="headerlink" title="Input"></a>Input</h3><p>The first line contains a positive integer $T(1 \leqslant T \leqslant 1000)$ showing the number of test cases. Then $T$ cases follow, for each of the $T$ lines containing a positive integer $z\left(1 \leqslant z \leqslant 10^{18}\right)$.  </p>
<h3 id="Output-4"><a href="#Output-4" class="headerlink" title="Output"></a>Output</h3><p>For each test case, print one line containing a number showing the answer.</p>
</blockquote>
<h3 id="ç¿»è¯‘ç‰ˆ"><a href="#ç¿»è¯‘ç‰ˆ" class="headerlink" title="ç¿»è¯‘ç‰ˆ"></a>ç¿»è¯‘ç‰ˆ</h3><p>å¯¹äºç»™å®šçš„æ­£æ•´æ•° $n$ï¼Œè€ƒè™‘åå¤å¯¹ $n$ åº”ç”¨ä»¥ä¸‹æ“ä½œï¼šé¦–å…ˆï¼Œé€‰æ‹©ä¸€ä¸ªæ»¡è¶³ä»¥ä¸‹æ‰€æœ‰æ¡ä»¶çš„æ­£æ•´æ•° $z$ï¼š</p>
<ol>
<li>$z$ å¯è¡¨ç¤ºä¸º $z=p^{e}$ï¼Œå…¶ä¸­ $p$ æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œ$e$ æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼›</li>
<li>$z$ æ•´é™¤ $n$ï¼›</li>
<li>$e$ ä¸å…ˆå‰æ“ä½œä¸­é€‰æ‹©çš„æ‰€æœ‰æ•´æ•°ä¸åŒã€‚</li>
</ol>
<p>ç„¶åï¼Œç”¨ $\frac{n}{z}$ æ›¿æ¢ $n$ã€‚</p>
<p>æ‰¾å‡ºå¯ä»¥æ‰§è¡Œæ­¤æ“ä½œçš„æœ€å¤§æ¬¡æ•°ã€‚</p>
<p>å½“ lajiniunai ç¬¬ä¸€æ¬¡é¢å¯¹è¿™ä¸ªé—®é¢˜æ—¶ï¼Œä»–è¯»é”™äº†é¢˜ç›®ï¼Œå°†ç¬¬ä¸‰ä¸ªæ¡ä»¶æ”¹æˆäº†â€œ$e$ ä¸å…ˆå‰æ“ä½œä¸­é€‰æ‹©çš„æ‰€æœ‰æ•´æ•°ä¸åŒâ€ã€‚</p>
<p>ç°åœ¨åœ¨å…¶ä»–æ¡ä»¶ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ‰¾å‡ºå¯ä»¥æ‰§è¡Œæ­¤æ“ä½œçš„æœ€å¤§æ¬¡æ•°ã€‚</p>
<h4 id="è¾“å…¥"><a href="#è¾“å…¥" class="headerlink" title="è¾“å…¥"></a>è¾“å…¥</h4><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° $T(1 \leqslant T \leqslant 1000)$ï¼Œè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹çš„æ•°é‡ã€‚ç„¶åæ˜¯ $T$ ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åŒ…å«ä¸€ä¸ªæ­£æ•´æ•° $z(1 \leqslant z \leqslant 10^{18})$ã€‚</p>
<h4 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h4><p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ‰“å°ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç­”æ¡ˆã€‚</p>
<h3 id="Example-3"><a href="#Example-3" class="headerlink" title="Example"></a>Example</h3><p>input<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td></tr></table></figure><br>output<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></table></figure></p>
<h2 id="F-äº¤æ¢"><a href="#F-äº¤æ¢" class="headerlink" title="F äº¤æ¢"></a>F äº¤æ¢</h2><p>Time limit:  1 seconds<br>Memory limit:  256 megabytes<br><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=41bf2a1ce70244d12906dbd06b9ed318.png">åŸé¢˜</a><br>endereye å¾—åˆ°äº†ä¸€ä¸ªåªåŒ…å«æ•°å­— $0-9$ å­—ç¬¦ä¸² $s$, ä»–å‘ç°æœ‰æ—¶å€™<strong>äº¤æ¢ç›¸é‚»ä¸¤ä¸ªä½ç½®</strong>çš„å­—ç¬¦ï¼Œå¯ä»¥å¾—åˆ°ä¸€<br>ä¸ªå…¨æ–°çš„å­—ç¬¦ä¸² $t$ã€‚ç„¶åä»–ä¸æ–­é‡å¤è¿™æ ·çš„äº¤æ¢æ“ä½œï¼Œå¾—åˆ°äº†æ‰€æœ‰å¯èƒ½å¾—åˆ°çš„å­—ç¬¦ä¸²ã€‚ä»–æ³¨æ„åˆ°ï¼Œè¿™å…¶<br>ä¸­æœ‰äº›å­—ç¬¦ä¸²åªç”¨è‡³å°‘ $1$ æ¬¡äº¤æ¢æ“ä½œå°±å¯ä»¥å¾—åˆ°ï¼Œæœ‰äº›éœ€è¦è‡³å°‘ $2$ æ¬¡äº¤æ¢æ“ä½œï¼Œ$\dots$ æœ‰äº›è‡³å°‘éœ€è¦ $k$ æ¬¡<br>äº¤æ¢æ“ä½œã€‚ä»–æƒ³çŸ¥é“è¿™ä¸ª $k$ æœ€å¤§èƒ½æ˜¯å¤šå°‘ã€‚<br>ä»–ä¸çŸ¥é“æ€ä¹ˆè®¡ç®—è¿™ä¸ªç­”æ¡ˆï¼Œæ‰€ä»¥æŠŠé—®é¢˜äº¤ç»™äº†ä½ ã€‚</p>
<h3 id="Input-5"><a href="#Input-5" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° $T (1â‰¤Tâ‰¤10)$ã€‚<br>æ¥ä¸‹æ¥ $T$ ç»„æ•°æ®ï¼š<br>æ¯ç»„æ•°æ®ç¬¬ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $n (1â‰¤nâ‰¤10^5)$ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚<br>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªç”±æ•°å­— $0-9$ æ„æˆçš„é•¿åº¦ä¸º $n$ å­—ç¬¦ä¸² $s$ã€‚</p>
<h3 id="Output-5"><a href="#Output-5" class="headerlink" title="Output"></a>Output</h3><p>æ¯ç»„æ•°æ®è¾“å‡ºä»…åŒ…å«ä¸€è¡Œï¼Œè¾“å‡ºç­”æ¡ˆ</p>
<h3 id="Example-4"><a href="#Example-4" class="headerlink" title="Example"></a>Example</h3><p>input<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">3</span><br><span class="line">121</span><br><span class="line">3</span><br><span class="line">123 </span><br><span class="line">3</span><br><span class="line">111</span><br><span class="line">3</span><br><span class="line">221</span><br></pre></td></tr></table></figure><br>output<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">3</span><br><span class="line">0</span><br><span class="line">2</span><br></pre></td></tr></table></figure></p>
<h2 id="G-word-æ–‡æ¡£"><a href="#G-word-æ–‡æ¡£" class="headerlink" title="G word æ–‡æ¡£"></a>G word æ–‡æ¡£</h2><p>Time limit:  1 seconds<br>Memory limit:  256 megabytes<br><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=6ceb495c1cfc024be6df901b71423073.png">åŸé¢˜</a><br>åœ¨ word æ–‡æ¡£ä¸­, æœ‰ä¸€ä¸ªå­—ç¬¦ $a$, ç°åœ¨ä½ å¯ä»¥è¿›è¡Œä»¥ä¸‹å‡ ç§æ“ä½œä»»æ„æ¬¡:  </p>
<ul>
<li>å…¨é€‰: é€‰ä¸­æ–‡æ¡£ä¸­æ‰€æœ‰å­—ç¬¦ã€‚  </li>
<li>å¤åˆ¶: å¤åˆ¶å½“å‰é€‰ä¸­çš„å­—ç¬¦åˆ°ç²˜è´´æ¿ã€‚  </li>
<li>ç²˜è´´: å°†ç²˜è´´æ¿çš„å†…å®¹ç²˜è´´, å¦‚æœå½“å‰æ²¡æœ‰é€‰ä¸­ä»»æ„å­—ç¬¦, åˆ™å†…å®¹ä¼šè¿½åŠ åœ¨åŸå†…å®¹çš„åé¢ã€‚å¦‚æœå½“å‰é€‰ä¸­äº†ä¸€äº›å­—ç¬¦, é‚£ä¹ˆè¿™äº›å­—ç¬¦ä¼šè¢«å½“å‰ç²˜è´´çš„å†…å®¹æ›¿æ¢, å¹¶ä¸”ä¼šå–æ¶ˆé€‰ä¸­çŠ¶æ€ã€‚  </li>
</ul>
<p>ä½ éœ€è¦ç”¨æœ€å°‘çš„æ¬¡æ•°, å°†æ–‡æ¡£ä¸­çš„å­—ç¬¦æ•°é‡å˜ä¸ºæ°å¥½ $n$ ä¸ªã€‚  </p>
<h3 id="Input-6"><a href="#Input-6" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° $T\left(1 \leq T \leq 10^{3}\right)$ ä¸€è¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚<br>æ¥ä¸‹æ¥ $T$ è¡Œ, æ¯ä¸€è¡Œè¡¨ç¤ºä¸€ç»„æ•°æ®, æ¯ç»„æ•°æ®ä»…ä¸€ä¸ªæ­£æ•´æ•° $n\left(1 \leq n \leq 10^{9}\right)$ ä¸€æ„ä¹‰å¦‚é¢˜ã€‚  </p>
<h3 id="Output-6"><a href="#Output-6" class="headerlink" title="Output"></a>Output</h3><p>$T$ è¡Œ, æ¯è¡ŒåŒ…å«ä¸€ä¸ªéè´Ÿæ•´æ•°, è¡¨ç¤ºè¯¥ç»„æ•°æ®çš„ç­”æ¡ˆã€‚  </p>
<h3 id="Example-5"><a href="#Example-5" class="headerlink" title="Example"></a>Example</h3><p>input<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1</span><br><span class="line">9</span><br><span class="line">998244353</span><br></pre></td></tr></table></figure><br>output<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">10</span><br><span class="line">998244355</span><br></pre></td></tr></table></figure></p>
<h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>å¯¹äºæ ·ä¾‹ä¸­çš„ç¬¬äºŒç»„æ•°æ®, å˜åŒ–è¿‡ç¨‹å¦‚ä¸‹:<br>$a \stackrel{\text { select }}{\longrightarrow} a \stackrel{\text { copy }}{\longrightarrow} a \stackrel{\text { paste } \times 3}{\longrightarrow}$ $aaa$ $\stackrel{\text { select }}{\longrightarrow} a a a \stackrel{\text { copy }}{\longrightarrow} a a a \stackrel{\text { paste } \times 3}{\longrightarrow}$ $aaaaaaaaa$<br>å­—ç¬¦å¤–çš„æ–¹æ¡†è¡¨ç¤ºè¢«é€‰ä¸­çŠ¶æ€ã€‚æ€»å…± $10$ æ¬¡æ“ä½œã€‚</p>
<h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><p>ç¾¤å‹çš„ä»£ç  (è®°å¿†åŒ–æœç´¢)<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; dp;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dp[n] = n + <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>, m = <span class="built_in">sqrt</span>(n); i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp.<span class="built_in">find</span>(n / i) == dp.<span class="built_in">end</span>())</span><br><span class="line">                <span class="built_in">dfs</span>(n / i);</span><br><span class="line">            dp[n] = <span class="built_in">min</span>(dp[n], dp[n / i] + <span class="number">2</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">if</span> (dp.<span class="built_in">find</span>(n) != dp.<span class="built_in">end</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; dp[n] &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&#x27;0&#x27;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="built_in">dfs</span>(n);</span><br><span class="line">    cout &lt;&lt; dp[n] &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span> (<span class="literal">false</span>),cin.<span class="built_in">tie</span> (<span class="literal">nullptr</span>);</span><br><span class="line">    <span class="type">int</span> t = <span class="number">1</span>;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="H-Hotpot"><a href="#H-Hotpot" class="headerlink" title="H Hotpot"></a>H Hotpot</h2><p>Time limit:  2 seconds<br>Memory limit:  256 megabytes<br><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=6fd3039443ba09066f31d8e008c004d8.png">åŸé¢˜</a><br>Chongqing hotpot is one of the most famous dishes around the world. People love its spicy taste.<br>There are $n$ types of ingredients (say Maodu, Yachang, Yageng, Neiroupian, Sanxianrou,â€¦) for the hotpot in total, the number of each type is infinity. For $i$ -th ingredient, it needs to be cooked for $a_{i}$ minutes.  </p>
<p>Every minute, HeartBlack will add one ingredient to hotpot or take out all well-cooked (ready-to-eat) ingredients in the hotpot (If there are no cooked ingredients, she will do nothing).  </p>
<p>Given what HeartBlack does at the start of every minute.<br>For each time she takes out ingredient, you need to print the types of ingredients she takes out in increasing order (If she takes out nothing, print -1) in a line. Attention, if there are more than one ingredients of the same type, the output needs to be repeated. For example, if there are 3 ingredients of type 2 taken out, you should print â€œ2 2 2 â€œ.  </p>
<h3 id="Input-7"><a href="#Input-7" class="headerlink" title="Input"></a>Input</h3><p>The first line contains two positive integers, $n$ and $t\left(1 \leq n \leq 2 \times 10^{5}, 1 \leq t \leq 2 \times 10^{5}\right)$, denoting the number of types of ingredient and the total time eating hotpot (minute).  </p>
<p>The second line contains $n$ positive integers, $a<em>{1}, a</em>{2}, \ldots, a<em>{n}\left(1 \leq a</em>{i}&lt;t\right)$, denoting the time each ingredient needs to be cooked.  </p>
<p>The next $t$ lines consist of one or two integers each. The first integer of $i$ -th line is $b<em>{i}\left(b</em>{i} \in{0,1}\right)$, denoting what HeartBlack does in $i$ -th minute.  </p>
<p>If $b<em>{i}$ is 0 , there is one more integer $c</em>{i}\left(1 \leq c<em>{i} \leq n\right)$, denoting HeartBlack adds a $c</em>{i}$ -th type of ingredient to hotpot.  </p>
<p>If $b_{i}$ is 1 , denoting HeartBlack takes out all the cooked ingredient.  </p>
<h3 id="Output-7"><a href="#Output-7" class="headerlink" title="Output"></a>Output</h3><p>For each minute HeartBlack takes out, print the types of ingredients she takes out in increasing order in a line or print -1 when there are no cooked ingredients.</p>
<h3 id="Example-6"><a href="#Example-6" class="headerlink" title="Example"></a>Example</h3><p>input<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3 6</span><br><span class="line">1 2 3</span><br><span class="line">0 2</span><br><span class="line">1</span><br><span class="line">0 3</span><br><span class="line">0 2</span><br><span class="line">0 1</span><br><span class="line">1</span><br></pre></td></tr></table></figure><br>output<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-1</span><br><span class="line">1 2 2 3</span><br></pre></td></tr></table></figure></p>
<h3 id="Note-1"><a href="#Note-1" class="headerlink" title="Note"></a>Note</h3><p>Attention, if there are more than one ingredients of the same type, the output needs to be repeated. For<br>example, if there are $3$ ingredients of type $2$ taken out, you should printâ€$2\ 2\ 2$â€.</p>
<h3 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h3><p>ç”¨ set è§£å†³ï¼Œè¿˜å¹¶ä¸çŸ¥é“æ˜¯å¦æ­£ç¡®ã€‚<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">set&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; b,cooked;<span class="comment">//bä»£è¡¨ç­‰ç­‰å¾…æˆç†Ÿçš„é£Ÿç‰©ï¼Œcookedä»£è¡¨å·²ç»æˆç†Ÿçš„é£Ÿç‰©</span></span><br><span class="line"><span class="type">int</span> n, t, a[<span class="number">200010</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; t;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> time = <span class="number">1</span>; time &lt;= t; time++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> op;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        <span class="keyword">if</span> (!op)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x;</span><br><span class="line">            cin &gt;&gt; x;</span><br><span class="line">            b.<span class="built_in">insert</span>(&#123;x, time + a[x]&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> it = b.<span class="built_in">begin</span>(); it != b.<span class="built_in">end</span>();)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (time &gt;= it-&gt;second)</span><br><span class="line">                &#123;</span><br><span class="line">                    cooked.<span class="built_in">insert</span>(&#123;it-&gt;first,k++&#125;);</span><br><span class="line">                    it = b.<span class="built_in">erase</span>(it);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (cooked.<span class="built_in">empty</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="number">-1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">auto</span> v : cooked)</span><br><span class="line">                    cout &lt;&lt; v.first &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">            cooked.<span class="built_in">clear</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="I-äº•ç›–"><a href="#I-äº•ç›–" class="headerlink" title="I äº•ç›–"></a>I äº•ç›–</h2><p>Time limit:  3 seconds<br>Memory limit:  256 megabytes<br><a target="_blank" rel="noopener" href="https://swu.eduxiji.net/cguserImages?_img=b7cfb799c1855a9b24cdb5490e8a481e.png">åŸé¢˜</a><br>åœ¨è·¯é¢ä¸Š, æœ‰ $n$ ä¸ªäº•ç›–, äº•ç›–å¯ä»¥è§†ä½œä¸€ä¸ªç‚¹, å…¶é¢ç§¯å¿½ç•¥ä¸è®¡, ç¬¬ $i$ ä¸ªäº•ç›–åœ¨åæ ‡ $\left(x<em>{i}, y</em>{i}\right)$ ã€‚æ¯ä¸ªäº•ç›–éƒ½æœ‰ $p_{i}$ çš„æ¦‚ç‡åæ‰, ä¸ºäº†é˜²æ­¢è¡Œäººæ‰è¿›å», å·¥ä½œäººå‘˜å†³å®šç”¨è­¦æˆ’çº¿å°†æ‰€æœ‰åæ‰çš„äº•ç›–å›´ä½, åŒæ—¶è­¦æˆ’çº¿çš„é•¿åº¦æœ€çŸ­ã€‚å›´ä½å, åœ¨è­¦æˆ’çº¿å†…éƒ¨çš„åŒºåŸŸéƒ½æ— æ³•è¿›å…¥äº†ã€‚ç°åœ¨å·¥ä½œäººå‘˜æƒ³çŸ¥é“, è¢«è­¦æˆ’çº¿å›´ä½çš„åŒºåŸŸçš„é¢ç§¯çš„æœŸæœ›æ˜¯å¤šå°‘ã€‚è¯·ä½ å¸®ä»–è®¡ç®—ä¸€ä¸‹ï¼Œå¹¶å‘Šè¯‰ä»–å¯¹ $10^{9}+7$ å–æ¨¡åçš„ç­”æ¡ˆã€‚  </p>
<p>å¦‚æœç­”æ¡ˆèƒ½è¡¨ç¤ºä¸ºæœ‰ç†æ•°çš„å½¢å¼ $\frac{a}{b}$, åˆ™å¯¹è´¨æ•° $M$ å–æ¨¡åçš„ç­”æ¡ˆä¸º $a \times b^{M-2} \bmod M$ ã€‚  </p>
<h3 id="Input-8"><a href="#Input-8" class="headerlink" title="Input"></a>Input</h3><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $n(1 \leqslant n \leqslant 2000)$ ã€‚<br>æ¥ä¸‹æ¥ $n$ è¡Œä¸­, ç¬¬ $i$ è¡ŒåŒ…å« 4 ä¸ªæ•´æ•° $x<em>{i}, y</em>{i}, a<em>{i}, b</em>{i}\left(-10^{9} \leq x<em>{i}, y</em>{i} \leq 10^{9}, 1 \leq a<em>{i}&lt;b</em>{i} \leq 10^{9}\right)$, è¡¨ç¤ºç¬¬ $i$ ä¸ªç‚¹çš„åæ ‡ $\left(x<em>{i}, y</em>{i}\right)$, å’Œå‡ºç°çš„æ¦‚ç‡ $p<em>{i}=\frac{a</em>{i}}{b_{i}}$ ã€‚  </p>
<h3 id="Output-8"><a href="#Output-8" class="headerlink" title="Output"></a>Output</h3><p>è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°, è¡¨ç¤ºç­”æ¡ˆã€‚  </p>
<h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h3><p>input 1<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">0 0 1 2</span><br><span class="line">1 0 1 3</span><br><span class="line">0 2 1 4</span><br></pre></td></tr></table></figure><br>  output 1<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">41666667</span><br></pre></td></tr></table></figure><br>input 2<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">0 0 1 2</span><br><span class="line">2 0 1 2</span><br><span class="line">0 2 1 2</span><br><span class="line">2 2 1 2</span><br></pre></td></tr></table></figure><br>output 2<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">750000006</span><br></pre></td></tr></table></figure></p>
<h3 id="Note-2"><a href="#Note-2" class="headerlink" title="Note"></a>Note</h3><p>åœ¨ç¬¬ä¸€ä¸ªæ ·ä¾‹ä¸­, åæ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªäº•ç›–è¢«å›´ä½çš„é¢ç§¯éƒ½æ˜¯ 0 , å½“åæ‰äº†ä¸‰ä¸ªäº•ç›–çš„æ—¶å€™, å›´ä½çš„é¢ç§¯æ˜¯ $1$ , æ¦‚ç‡ä¸º $\frac{1}{2} \times \frac{1}{3} \times \frac{1}{4}=\frac{1}{24}$, å–æ¨¡åä¸º $1 \times 24^{10^{9}+7} \bmod \left(10^{9}+7\right)=41666667$ ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/25920d3b/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/25920d3b/" class="post-title-link" itemprop="url">1907</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:34:40 / ä¿®æ”¹æ—¶é—´ï¼š20:24:00" itemprop="dateCreated datePublished" datetime="2024-01-12T19:34:40+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/cf/" itemprop="url" rel="index"><span itemprop="name">cf</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>3.5k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>13 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>summary: éœ€è¦å¤šåŠ è®­ç»ƒ<br> <mark style="background: #FF5582A6;">Codeforces Round 913 (Div. 3)</mark> #div3</p>
<h2 id="A-Rook"><a href="#A-Rook" class="headerlink" title="A Rook"></a>A Rook</h2><h1 id="cf800"><a href="#cf800" class="headerlink" title="cf800"></a>cf800</h1><p>æ¯”è¾ƒç®€å•<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t;</span><br><span class="line">string a;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cin&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;a;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">8</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i==a[<span class="number">1</span>]<span class="number">-48</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            cout &lt;&lt; a[<span class="number">0</span>] &lt;&lt; i &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="string">&#x27;a&#x27;</span>; i &lt;= <span class="string">&#x27;h&#x27;</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i==a[<span class="number">0</span>])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            cout &lt;&lt; (<span class="type">char</span>)i &lt;&lt; a[<span class="number">1</span>] &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="B-YetnotherrokenKeoard"><a href="#B-YetnotherrokenKeoard" class="headerlink" title="B YetnotherrokenKeoard"></a>B YetnotherrokenKeoard</h2><h1 id="æ ˆ-cf1000"><a href="#æ ˆ-cf1000" class="headerlink" title="æ ˆ #cf1000"></a>æ ˆ #cf1000</h1><ul>
<li>é‡åˆ° <code>b</code> æ—¶ï¼Œå°±å°†æœ€åä¸€ä¸ªå°å†™å­—æ¯åˆ é™¤</li>
<li>é‡åˆ° <code>B</code> æ—¶ï¼Œå°±å°†æœ€åä¸€ä¸ªå¤§å†™å­—æ¯åˆ é™¤</li>
<li>å¦‚æœå·²ç»æ²¡æœ‰æ»¡è¶³è¦æ±‚çš„äº†ï¼Œåˆ™å¿½ç•¥ã€‚<br>ç»™å®šä¸€ä¸ªåºåˆ—ï¼Œåœ¨å¤„ç†å®Œæ‰€æœ‰æŒ‰é”®åè¾“å‡ºé”®å…¥çš„å­—ç¬¦ä¸²ã€‚<br>($1 \le t \le 1000$), $\sum\limits<em>{i=1}^t|a</em>{i}|$ $10^6$. $\text{a is not null}$.<br>ä¾‹å¦‚ï¼šARaBbbitBaby-&gt;ity</li>
</ul>
<p>æˆ‘å†™çš„è¶…æ—¶äº†ï¼Œæ—¶é—´å¤æ‚åº¦ï¼š$O(n^2)$<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t;string a;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cin &gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a;</span><br><span class="line">        vector&lt;<span class="type">char</span>&gt; b;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : a)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="built_in">islower</span>(b[i]))</span><br><span class="line">                    &#123;</span><br><span class="line">                        b.<span class="built_in">erase</span>(b.<span class="built_in">begin</span>() + i);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = b.<span class="built_in">size</span>() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="built_in">isupper</span>(b[i]))</span><br><span class="line">                    &#123;</span><br><span class="line">                        b.<span class="built_in">erase</span>(b.<span class="built_in">begin</span>() + i);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                b.<span class="built_in">push_back</span>(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c : b)</span><br><span class="line">            cout &lt;&lt; c;</span><br><span class="line">        cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ‰å¿…è¦å¿«é€Ÿæ”¯æŒåˆ é™¤ã€‚ä¸ºæ­¤ï¼Œå¯ä»¥ä¿æŒ<strong>ä¸¤ä¸ªå †æ ˆ</strong>ï¼š</p>
<ul>
<li>ä¸€ä¸ªå…·æœ‰å¤§å†™å­—æ¯çš„ä½ç½®ï¼Œ</li>
<li>ä¸€ä¸ªå…·æœ‰å°å†™å­—æ¯çš„ä½ç½®ã€‚</li>
<li>åœ¨åˆ é™¤æ—¶ï¼Œéœ€è¦ä»¥æŸç§æ–¹å¼æ ‡è®°è¯¥ä½ç½®çš„å­—ç¬¦ä¸åº”è¯¥è¢«è¾“å‡ºã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//jianglyçš„ä»£ç </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::string s;</span><br><span class="line">    std::cin &gt;&gt; s;</span><br><span class="line">    </span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; u, l;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; s.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;B&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!u.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                u.<span class="built_in">pop_back</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;b&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!l.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                l.<span class="built_in">pop_back</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (std::<span class="built_in">isupper</span>(s[i])) &#123;</span><br><span class="line">            u.<span class="built_in">push_back</span>(i);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            l.<span class="built_in">push_back</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; u.<span class="built_in">size</span>() || j &lt; l.<span class="built_in">size</span>()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; u.<span class="built_in">size</span>() &amp;&amp; (j == l.<span class="built_in">size</span>() || u[i] &lt; l[j])) &#123;</span><br><span class="line">            std::cout &lt;&lt; s[u[i++]];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            std::cout &lt;&lt; s[l[j++]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="C-Removal-of-Unattractive-Pairs"><a href="#C-Removal-of-Unattractive-Pairs" class="headerlink" title="C Removal of Unattractive Pairs"></a>C Removal of Unattractive Pairs</h2><h1 id="cf1100"><a href="#cf1100" class="headerlink" title="cf1100"></a>cf1100</h1><p>å¼—æ‹‰å¾·æ‰¾åˆ°äº†ä¸€ä¸ªç”± $n$ ä¸ªå°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² $s$ ï¼Œä»–æƒ³è®©è¿™ä¸ªå­—ç¬¦ä¸²è¶ŠçŸ­è¶Šå¥½ã€‚</p>
<ul>
<li>åªè¦å®ƒä»¬ä¸åŒï¼Œå°±å¯ä»¥ä» $s$ ä¸­ä»»æ„åˆ é™¤å¯¹<strong>ç›¸é‚»</strong>çš„å­—ç¬¦ã€‚<br>é€šè¿‡ä»»æ„æ•°é‡çš„åˆ é™¤å¯ä»¥å¾—åˆ°çš„æœ€å°é•¿åº¦æ˜¯å¤šå°‘ï¼Ÿ<br>($1 \le t \le 10^4$)ï¼Œ($1 \le n \le 2 \cdot 10^5$) ï¼Œ$\sum\limits<em>{i=1}^t\mid s</em>{i}\mid\leq 2\cdot 10^5$.<br>ä¾‹å¦‚ï¼š$\text{aabc}\to \text{ac}\to \text{â€œâ€}$.</li>
</ul>
<p>è€ƒè™‘ä¸€ä¸ªæœ‰é™å­—ç¬¦ä¸²: åªæœ‰ä¸¤ç§æƒ…å†µ</p>
<ul>
<li>å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ç›¸åŒçš„ï¼Œ</li>
<li>å¯ä»¥åˆ é™¤æŸäº›å­—ç¬¦å¯¹ã€‚<br>å¦‚æœæŸä¸ªå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°è¶…è¿‡ $\lfloor \frac{n}{2} \rfloor$ ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„å­—ç¬¦ä¸²å°†å§‹ç»ˆåªåŒ…å«è¿™ä¸ªå­—ç¬¦ï¼Œ<br>å¦åˆ™ï¼Œæ— è®ºåˆ é™¤é¡ºåºå¦‚ä½•ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åˆ é™¤æ‰€æœ‰å¯èƒ½çš„å­—ç¬¦å¯¹ã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¡¨è¿°ä¸ºï¼š</span></span><br><span class="line"> <span class="keyword">if</span>(<span class="number">2</span>*maxs&gt;size)</span><br><span class="line">	 cout &lt;&lt; <span class="number">2</span> * maxs - size &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line">	 cout &lt;&lt; size % <span class="number">2</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br></pre></td></tr></table></figure>
åˆ™ <code>ans = max(size % 2, 2 * (*max_element(num.begin(), num.end())) - size)</code><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string a; <span class="type">int</span> t;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">num</span><span class="params">(<span class="number">26</span>,<span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="type">int</span> size;</span><br><span class="line">        cin &gt;&gt; size &gt;&gt; a;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> v : a)</span><br><span class="line">            num[v - <span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">        <span class="built_in">sort</span>(num.<span class="built_in">begin</span>(), num.<span class="built_in">end</span>());</span><br><span class="line">        cout &lt;&lt; <span class="built_in">max</span>(size % <span class="number">2</span>, <span class="number">2</span> * (*<span class="built_in">max_element</span>(num.<span class="built_in">begin</span>(), num.<span class="built_in">end</span>())) - size) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="D-Jumping-Through-Segments"><a href="#D-Jumping-Through-Segments" class="headerlink" title="D Jumping Through Segments"></a>D Jumping Through Segments</h2><h1 id="cf1400-äºŒåˆ†"><a href="#cf1400-äºŒåˆ†" class="headerlink" title="cf1400 #äºŒåˆ†"></a>cf1400 #äºŒåˆ†</h1>æ±‚ä¸€ä¸ªæœ€å°çš„ç§»åŠ¨è·ç¦» $k$ ä½¿å¾—èƒ½æ»¡è¶³æ¯æ¬¡ç§»åŠ¨åéƒ½èƒ½åœ¨ç›®æ ‡çš„ $[l, r]$ åŒºé—´å†…ã€‚<br>$\text{example 1 }\boxed{\begin{align}&amp;5\&amp;1 &amp;5\&amp;3 &amp;4\&amp;5 &amp;6\&amp;8 &amp;10\&amp;0 &amp;1\end{align}}\to \min(k) \text{ is }8-1=7.$<script type="math/tex; mode=display">\text{example 2 }\boxed{\begin{align}&3\\&3 &8\\&10 &18\\&6 &11\end{align}}\min(k)\text{ is } \frac{10}{2}=5</script>$\text{example 2}$ ç©å®¶å¯ä»¥é‡‡å–ä»¥ä¸‹è¡ŒåŠ¨ï¼š</li>
<li>ä»ç‚¹ $0$ ç§»åŠ¨åˆ°ç‚¹ $5$ï¼ˆ$3 \le 5 \le 8$ï¼‰;</li>
<li>ä»ç‚¹ $5$ ç§»åŠ¨åˆ°ç‚¹ $10$ï¼ˆ$10 \le 10 \le 18$ï¼‰;</li>
<li>ä»ç‚¹ $10$ ç§»åŠ¨åˆ°ç‚¹ $7$ï¼ˆ$6 \le 7 \le 11$ï¼‰ã€‚<br>è¯·æ³¨æ„ï¼Œå¯¹äºæœ€åä¸€æ­¥ï¼Œç©å®¶å¯ä»¥é€‰æ‹©ä¸ç§»åŠ¨ï¼Œä»ç„¶å®Œæˆå…³å¡ã€‚</li>
</ul>
<p>åœ¨ $[1ï¼Œ10^{9}]$ ä¹‹é—´è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°æœ€ä½³çš„ $k$.<br><code>check</code> å‡½æ•°ï¼š<br>ç”¨äºæ£€æŸ¥åœ¨ç»™å®šé•¿åº¦ä¸º $k$ çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ç§æ–¹å¼å°†æ‰€æœ‰çš„çº¿æ®µè¦†ç›–ã€‚</p>
<ul>
<li>åˆå§‹åŒ– <code>ll</code> å’Œ <code>rr</code> ä¸º 0ï¼Œè¡¨ç¤ºå½“å‰è¦†ç›–çš„åŒºé—´çš„å·¦å³è¾¹ç•Œä¸º0ã€‚</li>
<li>å¯¹äºæ¯ä¸ªçº¿æ®µ $[a, b]$ï¼š<br> a. è®¡ç®—å½“å‰è¦†ç›–çš„åŒºé—´çš„å·¦è¾¹ç•Œä¸º <code>max (ll - k, a)</code>ï¼Œè¡¨ç¤ºåœ¨ä¿è¯è¦†ç›–çš„æƒ…å†µä¸‹ï¼Œå°½å¯èƒ½å‘å·¦ç§»åŠ¨ã€‚<br> b. è®¡ç®—å½“å‰è¦†ç›–çš„åŒºé—´çš„å³è¾¹ç•Œä¸º <code>min (rr + k, b)</code>ï¼Œè¡¨ç¤ºåœ¨ä¿è¯è¦†ç›–çš„æƒ…å†µä¸‹ï¼Œå°½å¯èƒ½å‘å³ç§»åŠ¨ã€‚<br> c. å¦‚æœå½“å‰è¦†ç›–çš„åŒºé—´çš„å·¦è¾¹ç•Œå¤§äºå³è¾¹ç•Œï¼Œåˆ™è¿”å› <code>false</code>ï¼Œè¡¨ç¤ºæ— æ³•è¦†ç›–æ‰€æœ‰çº¿æ®µã€‚ </li>
<li>å¦‚æœæˆåŠŸéå†äº†æ‰€æœ‰çº¿æ®µå¹¶ä¸”éƒ½èƒ½å¤Ÿè¢«è¦†ç›–ï¼Œåˆ™è¿”å› <code>true</code>ï¼Œè¡¨ç¤ºå­˜åœ¨ä¸€ç§æ–¹å¼å°†æ‰€æœ‰çº¿æ®µè¦†ç›–åœ¨é•¿åº¦ä¸º $k$ çš„æƒ…å†µä¸‹ã€‚<br><code>check</code> å‡½æ•°çš„ä½œç”¨å¾ˆé‡è¦ï¼Œä½†æ˜¯å¦‚ä½•è¯æ˜å…¶æ­£ç¡®æ€§è¿˜æ˜¯æˆ‘çš„ä¸€ä¸ªé—®é¢˜ã€‚</li>
</ul>
<p>äºŒåˆ†æœç´¢ï¼š$\text{æˆ‘ä»ç„¶æ²¡æœ‰æƒ³å‡ºæ¥}$<br>![[../../../../images/Z-attachment/Pasted image 20231213195628.png]]<br>å°†äºŒç»´çš„ <code>vector&lt;vector&lt;int&gt;&gt;</code> å˜ä¸º <code>vector&lt;array&lt;int, 2&gt;&gt;</code> èŠ‚çœäº†ä¸å°‘ç©ºé—´<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> k, vector&lt;array&lt;<span class="type">int</span>, <span class="number">2</span>&gt;&gt; &amp;seg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> ll = <span class="number">0</span>, rr = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> [a,b] : seg)</span><br><span class="line">    &#123;</span><br><span class="line">        ll = <span class="built_in">max</span>(ll - k, a),rr = <span class="built_in">min</span>(rr + k, b);</span><br><span class="line">        <span class="keyword">if</span> (ll &gt; rr) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    vector&lt;array&lt;<span class="type">int</span>,2&gt;&gt; <span class="built_in">seg</span>(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> a, b;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        seg[i] = &#123;a, b&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">-1</span>, r = <span class="number">1000000000</span>;</span><br><span class="line">    <span class="keyword">while</span> (r - l &gt; <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> mid = (r + l) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">check</span>(mid, seg))</span><br><span class="line">            r = mid;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            l = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="E-Good-Triples"><a href="#E-Good-Triples" class="headerlink" title="E Good Triples"></a>E Good Triples</h2><h1 id="cf1600"><a href="#cf1600" class="headerlink" title="cf1600"></a>cf1600</h1><p>ç»™å‡º $n$, æ‰¾å‡ºæ»¡è¶³ $a+b+c=n \cap f(a)+f(b)+f(c)=f(n)$ çš„ä¸ªæ•°ã€‚$f(x)$ ä»£è¡¨ $x$ å„ä½æ•°å­—ä¹‹å’Œã€‚ </p>
<div class="table-container">
<table>
<thead>
<tr>
<th>n</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody>
<tr>
<td>ans</td>
<td>1</td>
<td>3</td>
<td>6</td>
<td>10</td>
<td>15</td>
<td>21</td>
<td>28</td>
<td>36</td>
<td>45</td>
<td>55</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>$n\geq 10,ans(n)=\prod ans(n\text{çš„å„ä½æ•°å­—})$ </p>
<p><code>int x=n%10,ans *= (x + 1) * (x + 2) / 2,n/=10;</code><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t, a[] = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">21</span>, <span class="number">28</span>, <span class="number">36</span>, <span class="number">45</span>, <span class="number">55</span>&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> ans = <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="keyword">while</span> (n)</span><br><span class="line">            ans *= a[n % <span class="number">10</span>], n /= <span class="number">10</span>;<span class="comment">//ans *= (x + 1) * (x + 2) / 2,n/=10;//jianglyå†™çš„</span></span><br><span class="line">        cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="F-Shift-and-Reverse"><a href="#F-Shift-and-Reverse" class="headerlink" title="F Shift and Reverse"></a>F Shift and Reverse</h2><h1 id="cf1800"><a href="#cf1800" class="headerlink" title="cf1800"></a>cf1800</h1><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ $a_1ï¼Œa_2ï¼Œ\ldotsï¼Œa_n$ã€‚ä½ å¯ä»¥ç”¨è¿™ä¸ªæ•°ç»„è¿›è¡Œä¸¤ç§ç±»å‹çš„æ“ä½œï¼š</p>
<ul>
<li>shiftï¼šå°†æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ç§»åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼Œå¹¶å°†æ‰€æœ‰å…¶ä»–å…ƒç´ å‘å³ç§»åŠ¨ï¼Œå› æ­¤æ‚¨å°†è·å¾—æ•°ç»„ $a<em>nï¼Œa_1ï¼Œa_2ï¼Œ\ldotsï¼Œa</em>{n-1}$ã€‚</li>
<li>Reverseï¼šåè½¬æ•´ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥ä½ å¾—åˆ°æ•°ç»„ $a<em>nï¼Œa</em>{n-1}ï¼Œ\ldotsï¼Œa_1$ã€‚<br>ä½ çš„ä»»åŠ¡æ˜¯ä½¿ç”¨æœ€å°‘çš„æ“ä½œæ•°å¯¹æ•°ç»„è¿›è¡Œéé™åºæ’åº. ä¸å¯èƒ½åˆ™è¾“å‡º <code>-1</code>.</li>
</ul>
<p>è®©æˆ‘ä»¬<strong>æŠŠæ•°ç»„å†™å‡ºæ¥ä¸¤æ¬¡</strong>ï¼Œç„¶åè®¡ç®—æ•°ç»„å¢åŠ å’Œå‡å°‘çš„éƒ¨åˆ†ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½æ‰¾åˆ°èƒ½å¯¹æ•°ç»„è¿›è¡Œæ’åºçš„æ‰€æœ‰å¯èƒ½çš„ç§»åŠ¨ã€‚</p>
<blockquote>
<p>down: éé€’å¢</p>
<ul>
<li>å¦‚æœä»ä½ç½® <code>st</code> å¼€å§‹ï¼Œæ•°ç»„ <code>a[st]</code> åˆ° <code>a[st + n - 1]</code> æ˜¯éé€’å¢çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å°†è¿™éƒ¨åˆ†åºåˆ—ç§»è‡³æ•°ç»„çš„å‰éƒ¨ï¼Œç„¶å<strong>åè½¬</strong>æ•´ä¸ªæ•°ç»„å³å¯ã€‚ç§»ä½çš„æ¬¡æ•°å°±æ˜¯ <code>st + 1</code>ï¼Œåè½¬çš„æ¬¡æ•°ä¸º <code>1</code>ï¼Œå› ä¸ºæ¯æ¬¡ç§»ä½éƒ½ä¼šå°†æœ€åä¸€ä¸ªå…ƒç´ æ”¾åˆ°ç¬¬ä¸€ä¸ªï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†çš„æœ€å°æ“ä½œæ¬¡æ•°å°±æ˜¯ <code>min(st + 1, n - st + 1)</code>ï¼Œä»£è¡¨äº†å‘å·¦æˆ–è€…å‘å³ç§»ä½çš„æ¬¡æ•°ã€‚å†åè½¬ä¸€æ¬¡ï¼Œæ‰€ä»¥æ“ä½œæ¬¡æ•°æ€»åˆä¸º <code>st + 1</code> æˆ–æ˜¯ <code>n - st + 1</code>ã€‚<br>up: éé€’å‡</li>
<li>å¦‚æœä»ä½ç½® <code>st</code> å¼€å§‹ï¼Œæ•°ç»„ <code>a[st]</code> åˆ° <code>a[st + n - 1]</code> æ˜¯éé€’å‡çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å°†è¿™éƒ¨åˆ†åºåˆ—ç§»è‡³æ•°ç»„çš„å‰éƒ¨å³å¯ã€‚ç§»ä½æ¬¡æ•°ä¸º <code>st + 1</code>ã€‚ç„¶è€Œï¼Œç”±äºæ¯æ¬¡ç§»ä½éƒ½ä¼šå°†æœ€åä¸€ä¸ªå…ƒç´ æ”¾åˆ°ç¬¬ä¸€ä¸ªï¼Œæ‰€ä»¥éœ€è¦å†åè½¬ä¸€æ¬¡ã€‚è¿™æ ·æ€»çš„æ“ä½œæ¬¡æ•°å°±ä¸º <code>st + 2</code>ã€‚å¦å¤–ä¸€ç§æƒ…å†µå°±æ˜¯ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥é€‰æ‹©å‘å¦ä¸€ä¸ªæ–¹å‘ç§»ä½ï¼Œä¹Ÿå°±æ˜¯ä»å°¾éƒ¨çš„ <code>n - st</code> ä¸ªå…ƒç´ å‘åç´¯æ¨ï¼Œç„¶ååè½¬ä¸€æ¬¡ï¼Œæ“ä½œæ¬¡æ•°å°±æ˜¯ <code>n - st + 1</code>ã€‚ä½†æ˜¯è€ƒè™‘åˆ° <code>st</code> çš„ä½ç½®è‚¯å®šæ˜¯éé™åºçš„ï¼Œå› æ­¤å¯ä»¥ç›´æ¥å°†å…¶ç§»ä½è‡³é˜Ÿé¦–ï¼Œç„¶ååè½¬æ•´ä¸ªæ•°ç»„ï¼Œæ“ä½œæ¬¡æ•°ä¸º <code>n - st</code>ã€‚æ‰€ä»¥è¿™éƒ¨åˆ†çš„æœ€å°æ“ä½œæ¬¡æ•°å°±æ˜¯ <code>min(st + 2, n - st)</code>ã€‚<br>æ‰€ä»¥æˆ‘ä»¬å°±å¾—åˆ°äº†ä»å„ä¸ªä½ç½®å¼€å§‹ï¼Œå¯ä»¥ä½¿å¾—æ•´ä¸ªæ•°ç»„éé™åºçš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚å†å„ç§æƒ…å†µä¸­å–æœ€å°å€¼ï¼Œå°±æ˜¯ç­”æ¡ˆã€‚<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//coreï¼š</span></span><br><span class="line">when down:</span><br><span class="line">ans = <span class="built_in">min</span>(&#123;ans,st + <span class="number">1</span>, n - st + <span class="number">1</span>&#125;);</span><br><span class="line">when up:</span><br><span class="line">ans = <span class="built_in">min</span>(&#123;ans, st + <span class="number">2</span>, n - st&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t, n;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; n;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(<span class="number">2</span> * n, <span class="number">0</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            cin &gt;&gt; a[i];</span><br><span class="line">        <span class="built_in">copy</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">begin</span>() + n, a.<span class="built_in">begin</span>() + n);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">is_sorted</span>(a.<span class="built_in">begin</span>(), a.<span class="built_in">begin</span>() + n))<span class="comment">// spj</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&#x27;0&#x27;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> ans = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="comment">// down</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> st = i, cnt = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &lt;= <span class="number">2</span> * n - <span class="number">1</span> &amp;&amp; a[i] &gt;= a[i + <span class="number">1</span>])</span><br><span class="line">                i++, cnt++;</span><br><span class="line">            <span class="keyword">if</span> (cnt &gt;= n)</span><br><span class="line">                ans = <span class="built_in">min</span>(ans,<span class="built_in">min</span>(st + <span class="number">1</span>, n - st + <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="comment">// up</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> st = i, cnt = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (i &lt;= <span class="number">2</span> * n - <span class="number">1</span> &amp;&amp; a[i] &lt;= a[i + <span class="number">1</span>])</span><br><span class="line">                i++, cnt++;</span><br><span class="line">            <span class="keyword">if</span> (cnt &gt;= n)</span><br><span class="line">                ans = <span class="built_in">min</span>(ans, <span class="built_in">min</span>(st + <span class="number">2</span>, n - st));<span class="comment">//(if(!st)ans=0;)&lt;-&gt;(spj)</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ans == INT_MAX)</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;-1&quot;</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cout &lt;&lt; ans &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="G-Lights"><a href="#G-Lights" class="headerlink" title="G  Lights"></a>G  Lights</h2><h1 id="cf2200"><a href="#cf2200" class="headerlink" title="cf2200"></a>cf2200</h1><p>[[æµ…è°ˆåŸºç¯æ ‘ï¼ˆç¯å¥—æ ‘ï¼‰]] (åŸºç¯æ ‘ï¼š$n$ ç‚¹ $n$ è¾¹çš„è¿é€šå›¾) [[åŸºç¯æ ‘]]<br><a href="#ç–‘æƒ‘">æŠ½è±¡ä¸ºä¸æ‡‚çš„éƒ¨åˆ†</a><br>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $t$ï¼ˆ$1â‰¤tâ‰¤10^4$ï¼‰-æµ‹è¯•ç”¨ä¾‹çš„æ•°é‡ã€‚<br>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹  </p>
<ul>
<li>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° $n$ï¼ˆ$2 \le n \le 10^5$ï¼‰-ç¯çš„æ•°é‡ã€‚</li>
<li>ç¬¬äºŒè¡ŒåŒ…å« $n$ ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œç¯çš„åˆå§‹çŠ¶æ€ã€‚å­—ç¬¦â€œ0â€è¡¨ç¤ºç›¸åº”çš„ç¯å…³é—­ï¼Œâ€œ1â€è¡¨ç¤ºç¯æ‰“å¼€ã€‚</li>
<li>ç¬¬ä¸‰è¡ŒåŒ…å« $n$ ä¸ªæ•´æ•° $a_i$ï¼ˆ$1 \le a_i \le n$ï¼Œ$a_i \neq i$ï¼‰-å¼€å…³ $i$ æ”¹å˜ç¯ $i$ å’Œç¯ $a_i$ çš„çŠ¶æ€ã€‚<br>ä¿è¯æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹çš„ $n$ ä¹‹å’Œä¸è¶…è¿‡ $2 \cdot 10^5$<br>å…³é—­æ‰€æœ‰çš„ç¯ä½¿ç”¨æœ€å°‘æ•°é‡çš„å¼€å…³ï¼Œæˆ–è€…è¯´è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚<br>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹</li>
<li>è¾“å‡ºæ•´æ•° $k$ï¼Œå³è¦ä½¿ç”¨çš„æœ€å°å¼€å…³æ•°ï¼Œç„¶ååœ¨å•ç‹¬çš„è¡Œä¸­è¾“å‡º $k$ å¼€å…³åˆ—è¡¨ã€‚</li>
<li>æ— æ³•å…³é—­æ‰€æœ‰çš„ç¯ï¼Œåˆ™è¾“å‡º $-1$ã€‚</li>
</ul>
<p>ä¾‹å¦‚ $n=5$, å­—ç¬¦ä¸²ä¸º $11101$ , $a[5]={4, 3 ,4 ,2, 2}$<br>åˆ™ï¼š $\text{k=3}$ ,å¼€å…³é¡ºåºä¸º $1,5,3$.</p>
<ul>
<li>å½“é€‰æ‹© 1 æ—¶ï¼Œå­—ç¬¦ä¸²å˜ä¸º $01111$</li>
<li>å½“é€‰æ‹© 5 æ—¶ï¼Œå­—ç¬¦ä¸²å˜ä¸º $00110$</li>
<li>å½“é€‰æ‹© 3 æ—¶ï¼Œå­—ç¬¦ä¸²å˜ä¸º $00000$</li>
</ul>
<p><mark style="background: #FFB8EBA6;">å®˜æ–¹é¢˜è§£</mark>ï¼š<br>è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªæœ‰å‘å›¾ï¼Œå…¶ä¸­ä¸€æ¡è¾¹ä»é¡¶ç‚¹ $i$ åˆ°é¡¶ç‚¹ $a_i$ ã€‚åœ¨è¿™æ ·çš„å›¾ä¸­ï¼Œæ¯ä¸ªé¡¶ç‚¹æ­£å¥½æœ‰ä¸€æ¡è¾¹ï¼Œæ¯ä¸ªç›¸è¿çš„éƒ¨åˆ†æ­£å¥½æœ‰ä¸€ä¸ªå¾ªç¯ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†å…³é—­æ‰€æœ‰ä¸å±äºå¾ªç¯çš„ç¯å…‰ï¼›è¿™ç§å…³é—­é¡ºåºæ˜¯å”¯ä¸€çš„ï¼šæˆ‘ä»¬å°†ç§»é™¤æ‰€æœ‰æ²¡æœ‰è¾¹è¿›å…¥çš„å·²å…³é—­é¡¶ç‚¹ï¼Œç„¶åå…³é—­å¹¶ç§»é™¤å·²æ‰“å¼€çš„é¡¶ç‚¹ã€‚</p>
<p>ä¹‹åï¼Œåªå‰©ä¸‹å¾ªç¯çš„ç»„æˆéƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€äº›å¯èƒ½è¿˜äº®ç€ç¯ã€‚è€ƒè™‘ä» $i$ åˆ° $a_i$ å¾ªç¯ä¸­çš„ä»»ä½•ä¸€æ¡è¾¹ï¼Œæˆ‘ä»¬è¦ä¹ˆæŒ‰ä¸‹å¼€å…³ $i$ ï¼Œè¦ä¹ˆä¸æŒ‰ã€‚ä¸ºäº†è®¡ç®—è¿™äº›æƒ…å†µä¸‹çš„æ“ä½œæ¬¡æ•°ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸ä¹‹å‰ç›¸åŒçš„ç®—æ³•ã€‚</p>
<h3 id="jiangly-çš„ä»£ç "><a href="#jiangly-çš„ä»£ç " class="headerlink" title="jiangly çš„ä»£ç "></a>jiangly çš„ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n, _;</span><br><span class="line">string s;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="comment">// jianglyçš„ä»£ç </span></span><br><span class="line">    cin &gt;&gt; n &gt;&gt; s;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span>, <span class="title">deg</span><span class="params">(n)</span>,ans</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        a[i]--, deg[a[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//topsort</span></span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">if</span> (!deg[i])</span><br><span class="line">            q.<span class="built_in">push</span>(i);</span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (s[x] == <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            s[x] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            s[a[x]] ^= <span class="number">1</span>;</span><br><span class="line">            ans.<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (--deg[a[x]] == <span class="number">0</span>)</span><br><span class="line">            q.<span class="built_in">push</span>(a[x]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//end topsort</span></span><br><span class="line">    <span class="comment">//core</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!deg[i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="type">int</span> j = i, t = <span class="number">0</span>, len = <span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (deg[j])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[j] == <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">                t ^= <span class="number">1</span>;</span><br><span class="line">            res += t;</span><br><span class="line">            deg[j] = <span class="number">0</span>;</span><br><span class="line">            j = a[j];</span><br><span class="line">            len += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (t == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; len; k++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[j] == <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">                t ^= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (t == (res &lt; len - res))</span><br><span class="line">                ans.<span class="built_in">push_back</span>(j);</span><br><span class="line">            j = a[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//end core</span></span><br><span class="line">    cout &lt;&lt; ans.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x : ans)</span><br><span class="line">        cout &lt;&lt; x + <span class="number">1</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>), cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cin &gt;&gt; _;</span><br><span class="line">    <span class="keyword">while</span> (_--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å®˜æ–¹çš„ä»£ç "><a href="#å®˜æ–¹çš„ä»£ç " class="headerlink" title="å®˜æ–¹çš„ä»£ç "></a>å®˜æ–¹çš„ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">s</span><span class="params">(n)</span></span>;</span><br><span class="line">    &#123;</span><br><span class="line">        string ss;</span><br><span class="line">        cin &gt;&gt; ss;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            s[i] = ss[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        cin &gt;&gt; a[i], a[i]--;</span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; res;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">d</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        d[a[i]]++;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; z;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">if</span> (d[i] == <span class="number">0</span>)</span><br><span class="line">            z.<span class="built_in">push_back</span>(i);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; z.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x = z[i];</span><br><span class="line">        <span class="type">int</span> y = a[x];</span><br><span class="line">        <span class="keyword">if</span> (s[x])</span><br><span class="line">        &#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(x);</span><br><span class="line">            s[x] = !s[x];</span><br><span class="line">            s[y] = !s[y];</span><br><span class="line">        &#125;</span><br><span class="line">        d[y]--;</span><br><span class="line">        <span class="keyword">if</span> (d[y] == <span class="number">0</span>)</span><br><span class="line">            z.<span class="built_in">push_back</span>(y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">u</span><span class="params">(n)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i] &amp;&amp; !u[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> x = i;</span><br><span class="line">            vector&lt;<span class="type">int</span>&gt; p;</span><br><span class="line">            vector&lt;<span class="type">bool</span>&gt; ps;</span><br><span class="line">            <span class="type">int</span> c = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (!u[x])</span><br><span class="line">            &#123;</span><br><span class="line">                p.<span class="built_in">push_back</span>(x);</span><br><span class="line">                ps.<span class="built_in">push_back</span>(s[x]);</span><br><span class="line">                c += s[x];</span><br><span class="line">                u[x] = <span class="literal">true</span>;</span><br><span class="line">                x = a[x];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> k = p.<span class="built_in">size</span>();</span><br><span class="line">            p.<span class="built_in">push_back</span>(x);</span><br><span class="line">            ps.<span class="built_in">push_back</span>(s[x]);</span><br><span class="line">            <span class="keyword">if</span> (c % <span class="number">2</span> == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line">            vector&lt;<span class="type">bool</span>&gt; ps1 = ps;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; k; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span> || ps1[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    v1.<span class="built_in">push_back</span>(p[j]);</span><br><span class="line">                    ps1[j] = !ps1[j];</span><br><span class="line">                    ps1[j + <span class="number">1</span>] = !ps1[j + <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line">            vector&lt;<span class="type">bool</span>&gt; ps2 = ps;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; k; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (j != <span class="number">0</span> &amp;&amp; ps2[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    v2.<span class="built_in">push_back</span>(p[j]);</span><br><span class="line">                    ps2[j] = !ps2[j];</span><br><span class="line">                    ps2[j + <span class="number">1</span>] = !ps2[j + <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (v1.<span class="built_in">size</span>() &lt; v2.<span class="built_in">size</span>())</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">auto</span> x : v1)</span><br><span class="line">                    res.<span class="built_in">push_back</span>(x);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">auto</span> x : v2)</span><br><span class="line">                    res.<span class="built_in">push_back</span>(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; res.<span class="built_in">size</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> x : res)</span><br><span class="line">        cout &lt;&lt; x + <span class="number">1</span> &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">        <span class="built_in">solve</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç–‘æƒ‘"><a href="#ç–‘æƒ‘" class="headerlink" title="ç–‘æƒ‘"></a>ç–‘æƒ‘</h3><blockquote>
<p>æˆ‘åˆ°æ‹“æ‰‘æ’åºéƒ½æ˜¯ç†è§£çš„ï¼Œç°åœ¨æˆ‘æŠŠè¿™ä¸ªé¢˜ç›®æŠ½è±¡ä¸€ä¸‹ï¼ŒæŠ½è±¡ä¸ºåªæœ‰æˆ‘ä¸æ‡‚çš„éƒ¨åˆ†ã€‚</p>
<p>æŠ½è±¡åçš„é¢˜ç›®</p>
<h5 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h5><p>ç°ç»™ä½ ä¸€ä¸ªå›¾ï¼Œè¿™ä¸ªå›¾åªå«æœ‰ç¯ (æ•°é‡ä¸å”¯ä¸€)ï¼Œæ¯ä¸ªç‚¹éƒ½æœ‰å®ƒè‡ªå·±çš„çŠ¶æ€ ${0,1}$ï¼Œæ¯æ¬¡é€‰å®šä¸€ä¸ªç‚¹ä¹‹åï¼ŒåŒæ—¶è¿™ä¸ªç‚¹ç»‘å®šçš„ç‚¹çš„çŠ¶æ€ä¹Ÿä¼šéšç€æ”¹å˜ã€‚é¢˜ç›®ä¿è¯æœ‰è§£ã€‚</p>
<h5 id="INput"><a href="#INput" class="headerlink" title="INput"></a>INput</h5><p>è¾“å…¥ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨ç‚¹çš„ä¸ªæ•°ã€‚<br>è¾“å…¥ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»£è¡¨è¿™ä¸ªç‚¹çš„çŠ¶æ€<br>è¾“å…¥ç¬¬ä¸‰è¡ŒåŒ…å«ä¸€ä¸ªæ•°ç»„ï¼Œä»£è¡¨æ”¹å˜è¿™ä¸ªç‚¹çš„çŠ¶æ€ååŒæ—¶ä¼šè¢«æ”¹å˜çŠ¶æ€çš„èŠ‚ç‚¹ï¼Œå³ç»‘å®šçš„èŠ‚ç‚¹ã€‚</p>
<h5 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h5><p>ç¬¬ä¸€è¡Œè¾“å‡ºä½¿å¾—æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€éƒ½å˜ä¸º <code>0</code> æ—¶ï¼Œé€‰å®šèŠ‚ç‚¹æ•°ç›®çš„æœ€å°å€¼ã€‚<br> ç¬¬äºŒè¡Œè¾“å‡ºæ–¹æ¡ˆæƒ…å†µ</p>
<h5 id="Sample-INput"><a href="#Sample-INput" class="headerlink" title="Sample INput"></a>Sample INput</h5> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">011</span><br><span class="line">2 3 1</span><br></pre></td></tr></table></figure>
<h5 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h5> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<h5 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h5><p>ç”±äº 2 èŠ‚ç‚¹ç»‘å®šçš„æ˜¯ 3 èŠ‚ç‚¹ï¼Œæ‰€ä»¥åªéœ€è¦é€‰æ‹© 2 èŠ‚ç‚¹å°±å¯ä»¥ä½¿æ¯ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€éƒ½ä¸º <code>0</code> ã€‚</p>
<h5 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h5> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/*...*/</span><br></pre></td></tr></table></figure>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/d4d25663/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/d4d25663/" class="post-title-link" itemprop="url">1822D</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:34:37 / ä¿®æ”¹æ—¶é—´ï¼š20:19:08" itemprop="dateCreated datePublished" datetime="2024-01-12T19:34:37+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/cf/" itemprop="url" rel="index"><span itemprop="name">cf</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>12</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1906/M">Problem - 1906M - Codeforces</a><br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1831/A">Problem - 1831A - Codeforces</a><br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1684/B">Problem - 1684B - Codeforces</a><br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1861/B">Problem - 1861B - Codeforces</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/6defeb52/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/6defeb52/" class="post-title-link" itemprop="url">510D</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:34:34 / ä¿®æ”¹æ—¶é—´ï¼š20:19:10" itemprop="dateCreated datePublished" datetime="2024-01-12T19:34:34+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/cf/" itemprop="url" rel="index"><span itemprop="name">cf</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>131</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>1 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-ç”¨åˆ°äº†-è£´èœ€å®šç†-ï¼š"><a href="#1-ç”¨åˆ°äº†-è£´èœ€å®šç†-ï¼š" class="headerlink" title="1 ç”¨åˆ°äº† [[è£´èœ€å®šç†]]ï¼š"></a>1 ç”¨åˆ°äº† [[è£´èœ€å®šç†]]ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; dp;</span><br><span class="line"><span class="type">int</span> n, l[<span class="number">310</span>], c[<span class="number">310</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !b ? a : <span class="built_in">gcd</span>(b, a % b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    map&lt;<span class="type">int</span>, <span class="type">int</span>&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (it = dp.<span class="built_in">begin</span>(); it != dp.<span class="built_in">end</span>(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> temp = <span class="built_in">gcd</span>(l[i], it-&gt;first);</span><br><span class="line">            <span class="keyword">if</span> (dp.<span class="built_in">find</span>(temp) != dp.<span class="built_in">end</span>())</span><br><span class="line">                dp[temp] = <span class="built_in">min</span>(dp[temp], c[i] + it-&gt;second);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[temp] = c[i] + it-&gt;second;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        cin &gt;&gt; l[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        cin &gt;&gt; c[i];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">solve</span>();</span><br><span class="line">    <span class="keyword">if</span> (dp.<span class="built_in">find</span>(<span class="number">1</span>) == dp.<span class="built_in">end</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;-1&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/f38b7ef1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/f38b7ef1/" class="post-title-link" itemprop="url">510C</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:34:30 / ä¿®æ”¹æ—¶é—´ï¼š20:19:14" itemprop="dateCreated datePublished" datetime="2024-01-12T19:34:30+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/cf/" itemprop="url" rel="index"><span itemprop="name">cf</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>892</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>3 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><blockquote>
<p>ç‹ç‹¸ Ciel å³å°†å‘è¡¨ä¸€ç¯‡å…³äº FOCS (ç‹ç‹¸æ“ä½œè®¡ç®—æœºç³»ç»Ÿï¼Œè¯»ä½œ â€œç‹ç‹¸â€)çš„è®ºæ–‡ã€‚å¥¹å¬åˆ°ä¸€ä¸ªä¼ è¨€ï¼šè®ºæ–‡çš„ä½œè€…åˆ—è¡¨æ€»æ˜¯æŒ‰ç…§ <u>lexicographical</u> é¡ºåºæ’åˆ—ã€‚<br>åœ¨æŸ¥çœ‹äº†ä¸€äº›ä¾‹å­åï¼Œå¥¹å‘ç°æœ‰æ—¶å¹¶éå¦‚æ­¤ã€‚åœ¨ä¸€äº›è®ºæ–‡ä¸­ï¼Œä½œè€…å§“åå¹¶ä¸æ˜¯æŒ‰ç…§æ­£å¸¸æ„ä¹‰ä¸Šçš„ <u>lexicographical</u> é¡ºåºæ’åˆ—çš„ã€‚ä½†æ˜¯ï¼Œåœ¨å¯¹å­—æ¯è¡¨ä¸­çš„å­—æ¯é¡ºåºè¿›è¡ŒæŸäº›ä¿®æ”¹åï¼Œä½œè€…å§“åçš„é¡ºåºå°±ä¼šå˜æˆ<u>lexicographical</u>é¡ºåºï¼Œè¿™æ˜¯äº‹å®ï¼<br>å¥¹æƒ³çŸ¥é“ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ç§å­—æ¯é¡ºåºï¼Œå¯ä»¥ä½¿å¥¹æäº¤çš„è®ºæ–‡ä¸­çš„å§“åæŒ‰ç…§ <u>lexicographical</u> é¡ºåºæ’åˆ—ã€‚å¦‚æœæœ‰ï¼Œä½ åº”è¯¥æ‰¾å‡ºè¿™æ ·çš„é¡ºåºã€‚ </p>
</blockquote>
<p><u>lexicographical</u> é¡ºåºçš„å®šä¹‰å¦‚ä¸‹ã€‚å½“æˆ‘ä»¬æ¯”è¾ƒ $s$ å’Œ $t$ æ—¶ï¼Œé¦–å…ˆè¦æ‰¾åˆ°æœ€å·¦ä¾§ä½ç½®ä¸Šçš„ä¸åŒå­—ç¬¦ï¼ˆ$s<em>{i}â€‰â‰ â€‰t</em>{i}$ï¼‰ .å¦‚æœæ²¡æœ‰è¿™æ ·çš„ä½ç½® (å³ $s$ æ˜¯ $t$ çš„å‰ç¼€ï¼Œåä¹‹äº¦ç„¶)ï¼Œåˆ™æœ€çŸ­å­—ç¬¦ä¸²è¾ƒå°‘ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬å°†æ ¹æ®å­—æ¯è¡¨ä¸­çš„é¡ºåºæ¯”è¾ƒå­—ç¬¦ $s_i$ å’Œ $t_i$ ã€‚</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° $n ( 1â€‰â‰¤â€‰nâ€‰â‰¤â€‰100 )$ï¼šåç§°æ•°é‡ã€‚<br>æ¥ä¸‹æ¥çš„æ¯ $n$ è¡ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸² $name_i ( 1â€‰â‰¤â€‰|name_i|â€‰â‰¤â€‰100 )$ï¼Œå³ç¬¬ $i$ ä¸ªåç§°ã€‚æ¯ä¸ªåç§°åªåŒ…å«å°å†™å­—æ¯ã€‚æ‰€æœ‰åç§°å‡ä¸åŒã€‚</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>å¦‚æœå­˜åœ¨è¿™æ ·çš„å­—æ¯é¡ºåºï¼Œå³æ‰€ç»™åç§°æŒ‰è¯å…¸æ’åºï¼Œåˆ™è¾“å‡ºä»»ä½•è¿™æ ·çš„é¡ºåºï¼Œä½œä¸ºå­—ç¬¦â€™aâ€™-â€˜zâ€™çš„æ’åˆ— (å³é¦–å…ˆè¾“å‡ºä¿®æ”¹åå­—æ¯è¡¨çš„ç¬¬ä¸€ä¸ªå­—æ¯ï¼Œç„¶åæ˜¯ç¬¬äºŒä¸ªå­—æ¯ï¼Œä¾æ­¤ç±»æ¨)ã€‚å¦åˆ™è¾“å‡ºå•è¯ <code>Impossible</code></p>
<h2 id="å®˜æ–¹é¢˜è§£"><a href="#å®˜æ–¹é¢˜è§£" class="headerlink" title="å®˜æ–¹é¢˜è§£"></a>å®˜æ–¹é¢˜è§£</h2><p>é¦–å…ˆè®©æˆ‘ä»¬æƒ³ä¸€æƒ³ Sâ€‰&lt;â€‰T å¯ä»¥å‘Šè¯‰æˆ‘ä»¬ä»€ä¹ˆï¼š<br>å‡è®¾ Sâ€‰=â€‰abcxyz<br>        Tâ€‰=â€‰abcuvã€‚<br>æ ¹æ®å®šä¹‰ï¼Œå½“ä¸”ä»…å½“ xâ€‰&lt;â€‰u æ—¶ï¼ŒSâ€‰&lt;â€‰Tã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¡ä»¶ name 1â€‰&lt;â€‰name 2ï¼Œname 2â€‰&lt;â€‰name 3â€¦ è½¬åŒ–ä¸ºå­—æ¯çš„é¡ºåºã€‚<br>é‚£ä¹ˆé—®é¢˜å°±å˜æˆäº†ï¼šæˆ‘ä»¬æ˜¯å¦æœ‰ä¸€ä¸ªæ’åˆ—æ»¡è¶³è¿™äº›æ¡ä»¶ã€‚å®é™…ä¸Šè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„æ‹“æ‰‘æ’åºé—®é¢˜ã€‚<br>è¿™ä¸ªä»»åŠ¡çš„ä¸€ä¸ªæŠ€å·§æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æœ‰åƒ xyâ€‰&lt;â€‰x è¿™æ ·çš„æƒ…å†µï¼Œé‚£ä¹ˆå°±æ²¡æœ‰è§£å†³åŠæ³•ã€‚è¿™åœ¨é¢„æµ‹è¯•ä¸­å¹¶æ²¡æœ‰æ¶‰åŠã€‚ :)</p>
<h2 id="æ´›è°·é¢˜è§£"><a href="#æ´›è°·é¢˜è§£" class="headerlink" title="æ´›è°·é¢˜è§£"></a>æ´›è°·é¢˜è§£</h2><p>ä¸€é“æ‹“æ‰‘æ’åºè£¸é¢˜ã€‚<br>å¯¹äºå­—å…¸åºå‰åç›¸é‚»çš„ä¸¤ä¸ªå­—ç¬¦ä¸² $a$ å’Œ $b ï¼Œ b$ è‚¯å®šä¸èƒ½æ˜¯ $a$ çš„å‰ç¼€ï¼Œä¸ç„¶çš„è¯è¿™ä¸ªå­—å…¸åºå°±æ˜¯é”™çš„ï¼Œè¦è¾“å‡º <code>Impossible</code>ã€‚  </p>
<p>å¦‚æœ $a$ ä¸æ˜¯ $b$ çš„å‰ç¼€çš„è¯ï¼Œé‚£ä¹ˆ $a$ å’Œ $b$ ç¬¬ä¸€ä¸ªä¸ç›¸åŒçš„å­—ç¬¦æˆ‘ä»¬åˆ†åˆ«ç§°ä¹‹ä¸º $c$ å’Œ $d ï¼Œ c$ çš„ä¼˜å…ˆçº§è‚¯å®šæ˜¯è¦æ¯” $d$ é«˜çš„ï¼Œä¹Ÿå°±æ˜¯ $c$ åœ¨ç­”æ¡ˆä¸­å‡ºç°çš„ä½ç½®ä¸€å®šæ˜¯è¦æ¯” $d$ é å‰çš„ã€‚  </p>
<p>çœ‹åˆ°è¿™é‡Œä½ æƒ³åˆ°äº†ä»€ä¹ˆ? æ‹“æ‰‘æ’åº! æ²¡é”™ï¼Œæˆ‘ä»¬è¦åœ¨å›¾ä¸­è¿ä¸€æ¡ä» $d$ åˆ° $c$ çš„æœ‰å‘è¾¹ï¼Œæœ€åè¾“å‡ºè¿™å¼ å›¾çš„æ‹“æ‰‘æ’åºå°±å¥½äº†ï¼Œå¦‚æœå›¾æœ‰ç¯å°±è¾“å‡º <code>Impossible</code>ã€‚</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n, in[<span class="number">1145</span>], cnt, ans[<span class="number">1145</span>];</span><br><span class="line">string s1, s2;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; e[<span class="number">1145</span>];</span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>), cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; s1;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; s2;</span><br><span class="line">        <span class="type">int</span> m = <span class="built_in">min</span>(s1.<span class="built_in">size</span>(), s2.<span class="built_in">size</span>()), j;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s1[j] != s2[j])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> x = s1[j] - <span class="string">&#x27;a&#x27;</span>, y = s2[j] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">                e[x].<span class="built_in">push_back</span>(y);</span><br><span class="line">                in[y]++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j &gt;= m &amp;&amp; s2.<span class="built_in">size</span>() &lt; s1.<span class="built_in">size</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;Impossible&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        s1 = s2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">25</span>; i++)</span><br><span class="line">        <span class="keyword">if</span> (!in[i])</span><br><span class="line">            q.<span class="built_in">push</span>(i);</span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        ans[++cnt] = x;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> a : e[x])</span><br><span class="line">        &#123;</span><br><span class="line">            in[a]--;</span><br><span class="line">            <span class="keyword">if</span> (!in[a])</span><br><span class="line">                q.<span class="built_in">push</span>(a);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cnt &lt; <span class="number">26</span>)</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Impossible&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">26</span>; i++)</span><br><span class="line">            cout&lt;&lt;(<span class="type">char</span>)(ans[i] + <span class="string">&#x27;a&#x27;</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    

  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bakebakebakebake.github.io/posts/cb3135e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/8e78b9e9e316fb38c4483af628530815.jpg">
      <meta itemprop="name" content="FXJFXJ">
      <meta itemprop="description" content="A story about ACMer and ProgrammerğŸ˜‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FXJFXJ">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/posts/cb3135e/" class="post-title-link" itemprop="url">334</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2024-01-12 19:34:24 / ä¿®æ”¹æ—¶é—´ï¼š20:24:08" itemprop="dateCreated datePublished" datetime="2024-01-12T19:34:24+08:00">2024-01-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/abc/" itemprop="url" rel="index"><span itemprop="name">abc</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>1.7k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>6 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="B-Christmas-Trees"><a href="#B-Christmas-Trees" class="headerlink" title="B-Christmas Trees"></a>B-Christmas Trees</h2><h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>æœ‰ä¸€æ¡å‘ä¸œè¥¿ä¸¤ä¾§æ— é™å»¶ä¼¸çš„é“è·¯ï¼Œä»è¿™æ¡é“è·¯ä¸Šçš„æŸä¸€å‚è€ƒç‚¹å‘ä¸œ $x$ ç±³å¤„çš„ç‚¹çš„<strong>åæ ‡</strong>å®šä¹‰ä¸º $x$ã€‚å…¶ä¸­ï¼Œä»å‚è€ƒç‚¹å‘è¥¿ $x$ ç±³å¤„çš„ä¸€ç‚¹çš„åæ ‡ä¸º $-x$ã€‚</p>
<p>æ–¯åŠªå…‹å°†ä»åæ ‡ä¸º $A$ çš„ç‚¹å¼€å§‹ï¼Œä»¥ $M$ ç±³çš„é—´éš”åœ¨è·¯ä¸Šçš„å„ç‚¹æ‘†æ”¾åœ£è¯æ ‘ã€‚æ¢å¥è¯è¯´ï¼Œä»–å°†åœ¨æ¯ä¸€ä¸ªå¯ä»¥ç”¨æŸä¸ªæ•´æ•° $k$ è¡¨ç¤ºä¸º $A+kM$ çš„ç‚¹ä¸Šæ‘†æ”¾ä¸€æ£µåœ£è¯æ ‘ã€‚</p>
<p>é«˜æ¡¥å’Œé’æœ¨åˆ†åˆ«ç«™åœ¨åæ ‡ä¸º $L$ å’Œ $R$ çš„ç‚¹ä¸Šã€‚$(L\leq R)$ã€‚æ±‚åœ¨é«˜æ¡¥å’Œé’æœ¨ä¹‹é—´ï¼ˆåŒ…æ‹¬ä»–ä»¬æ‰€ç«™çš„ç‚¹ï¼‰å°†ä¼šæœ‰å¤šå°‘æ£µåœ£è¯æ ‘ã€‚</p>
<h3 id="Constraints"><a href="#Constraints" class="headerlink" title="Constraints"></a>Constraints</h3><ul>
<li>$-10^{18}\leq A \leq 10^{18}$</li>
<li>$1\leq M \leq 10^9$</li>
<li>$-10^{18}\leq L\leq R \leq 10^{18}$</li>
<li>All input values are integers.<h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3>$\boxed{\begin{align}&amp;A&amp;M&amp;&amp;L&amp;&amp;R\end{align}}$<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3>æ‰“å°å°†åœ¨é«˜æ¡¥å’Œé’æœ¨ä¹‹é—´è®¾ç½®çš„åœ£è¯æ ‘æ•°é‡ï¼ˆåŒ…æ‹¬ä»–ä»¬æ‰€ç«™çš„ä½ç½®ï¼‰ã€‚<h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5 3 -1 6</span><br></pre></td></tr></table></figure>
<h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3>é¦–å…ˆï¼Œè®©æˆ‘ä»¬é€šè¿‡ä» $L$ å’Œ $R$ ä¸­å‡å» $A$ æ¥ç®€åŒ–é—®é¢˜ï¼Œè¿™æ ·åœ£è¯æ ‘å°±ç«™åœ¨åæ ‡çš„å€æ•°ä¸Šã€‚</li>
</ul>
<p>è®¾ $k$ ä¸ºç«™åœ¨åæ ‡ $kM$ å¤„çš„æ ‘çš„ç´¢å¼•ã€‚è®¾ $l$ ä¸ºç«™åœ¨ä¸¥æ ¼å°äº $L$ çš„åæ ‡å¤„çš„æœ€ä¸œè¾¹çš„æ ‘çš„ç´¢å¼•ï¼Œ</p>
<p>è€Œ $r$ åˆ™æ˜¯ç«™åœ¨åæ ‡å°äºæˆ–ç­‰äº $R$ çš„æœ€ä¸œè¾¹çš„æ ‘çš„ç´¢å¼•ã€‚é‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ $r-l$ã€‚</p>
<p>ç°åœ¨å‰©ä¸‹çš„æ˜¯æ‰¾åˆ°ç«™åœ¨å°äºæˆ–ç­‰äº $x$ çš„åæ ‡å¤„çš„æœ€ä¸œè¾¹çš„æ ‘çš„ç´¢å¼•ï¼Œå¯¹äºæŸä¸ª $x$ï¼›è¿™ç®€å•åœ°è¡¨ç¤ºä¸º $\lfloor\frac{x}{M}\rfloor$ã€‚è¯·æ³¨æ„ï¼Œå½“ $x$ ä¸ºè´Ÿæ•°æ—¶ï¼Œæ ¹æ®ç¼–ç¨‹è¯­è¨€çš„ä¸åŒï¼Œæ‰¾åˆ° $\lfloor\frac{x}{M}\rfloor$ çš„æ–¹æ³•ä¹Ÿæœ‰æ‰€ä¸åŒã€‚ï¼ˆä¾‹å¦‚ï¼Œåœ¨ C++ä¸­ï¼Œä½ ä¸èƒ½ç®€å•åœ°å†™ <code>x/M</code>ã€‚ï¼‰æ­¤å¤–ï¼Œé€šè¿‡å¯¹æµ®ç‚¹æ•°è¿›è¡Œæ±‚å€¼ä»¥è·å¾—å®æ•°ç„¶åè¿›è¡Œå–ä¸‹é™å¯èƒ½ä¼šå› ä¸ºç²¾åº¦è¯¯å·®è€Œå¯¼è‡´é”™è¯¯çš„å€¼ï¼Œæ‰€ä»¥è¯·å°å¿ƒã€‚</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p><code>ans=(R - A - ((R - A) % M + M) % M) / M - (L - 1 - A - ((L - 1 - A) % M + M) % M) / M</code><br>å®˜æ–¹é¢˜è§£æ˜¯<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> ll = <span class="type">long</span> <span class="type">long</span>;</span><br><span class="line"><span class="function">ll <span class="title">floor</span><span class="params">(ll x, ll m)</span> </span>&#123;</span><br><span class="line">    ll r = (x % m + m) % m;</span><br><span class="line">    <span class="keyword">return</span> (x - r) / m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ll a, m, l, r;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; m &gt;&gt; l &gt;&gt; r;</span><br><span class="line">    l -= a, r -= a;</span><br><span class="line">    cout &lt;&lt; <span class="built_in">floor</span>(r, m) - <span class="built_in">floor</span>(l - <span class="number">1</span>, m) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="C-Socks-2"><a href="#C-Socks-2" class="headerlink" title="C-Socks 2"></a>C-Socks 2</h2><h3 id="é—®é¢˜é™ˆè¿°"><a href="#é—®é¢˜é™ˆè¿°" class="headerlink" title="é—®é¢˜é™ˆè¿°"></a>é—®é¢˜é™ˆè¿°</h3><p>é«˜æ¡¥æœ‰ $N$ åŒè¢œå­ï¼Œå…¶ä¸­ $i$ åŒç”±ä¸¤åªé¢œè‰²ä¸º $i$ çš„è¢œå­ç»„æˆã€‚ä¸€å¤©ï¼Œé«˜æ¡¥åœ¨æ•´ç†æŠ½å±‰æ—¶å‘ç°è‡ªå·±ä¸¢å¤±äº† $A_1, A_2, \dots, A_K$ ç§é¢œè‰²çš„è¢œå­å„ä¸€åªï¼Œäºæ˜¯ä»–å†³å®šç”¨å‰©ä¸‹çš„ $2N-K$ åªè¢œå­åš $\lfloor\frac{2N-K}{2}\rfloor$ åŒæ–°è¢œå­ï¼Œæ¯åŒç”±ä¸¤åªè¢œå­ç»„æˆã€‚ä¸€åŒé¢œè‰²ä¸º $i$ çš„è¢œå­å’Œä¸€åŒé¢œè‰²ä¸º $j$ çš„è¢œå­çš„<strong>æ€ªå¼‚åº¦</strong>å®šä¹‰ä¸º $|i-j|$ï¼Œé«˜æ¡¥å¸Œæœ›å°†æ€»æ€ªå¼‚åº¦æœ€å°åŒ–ã€‚</p>
<p>æ±‚ç”¨å‰©ä¸‹çš„è¢œå­åšæˆ $\lfloor\frac{2N-K}{2}\rfloor$ å¯¹æ—¶ï¼Œæ€»å¥‡å¼‚åº¦çš„æœ€å°å€¼ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœ $2N-K$ æ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆå°†æœ‰ä¸€åªè¢œå­ä¸åŒ…å«åœ¨ä»»ä½•ä¸€å¯¹è¢œå­ä¸­ã€‚</p>
<h3 id="Constraints-1"><a href="#Constraints-1" class="headerlink" title="Constraints"></a>Constraints</h3><ul>
<li>$1\leq K\leq N \leq 2\times 10^5$</li>
<li>$1\leq A_1 &lt; A_2 &lt; \dots &lt; A_K \leq N$</li>
<li>All input values are integers.<h3 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h3>$\boxed{\begin{align}&amp;N\ \ \ \ \ \ K\&amp;A<em>{1}\ \ \ \ A</em>{2}&amp;\dots A_{K}\end{align}}$<h3 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h3>å°†æœ€å°æ€»æ€ªå¼‚åº¦æ‰“å°ä¸ºæ•´æ•°ã€‚<h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4 2</span><br><span class="line">1 3</span><br></pre></td></tr></table></figure>
<h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample  Output"></a>Sample  Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3>ä¸‹é¢ï¼Œè®© $(i,j)$ è¡¨ç¤ºä¸€å¯¹é¢œè‰²ä¸º $i$ çš„è¢œå­å’Œä¸€å¯¹é¢œè‰²ä¸º $j$ çš„è¢œå­ã€‚<br>é¢œè‰²ä¸º $1, 2, 3, 4$ çš„è¢œå­åˆ†åˆ«æœ‰ $1, 2, 1, 2$ åªã€‚åˆ›å»º $(1,2),(2,3),(4,4)$ è¿™å¯¹è¢œå­åï¼Œæ€»å¥‡å¼‚åº¦ä¸º $|1-2|+|2-3|+|4-4|=2$ï¼Œå³æœ€å°å¥‡å¼‚åº¦ã€‚</li>
</ul>
<h3 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h3><p>é¦–å…ˆï¼Œæœ€ä¼˜çš„æ–¹æ¡ˆæ˜¯åŒ¹é…ä»–æ²¡æœ‰ä¸¢å¤±çš„è¢œå­ã€‚</p>
<blockquote>
<p>[!success]- è¯æ˜<br>å¯¹äºä»–æ²¡æœ‰ä½¿ç”¨è¿‡çš„é¢œè‰² $p$ï¼Œè€ƒè™‘ä¸€ä¸ªæƒ…å†µï¼Œå…¶ä¸­ä¸¤åªé¢œè‰²ä¸º $p$ çš„è¢œå­æ²¡æœ‰é…å¯¹ã€‚å½“å®ƒä»¬å’Œé¢œè‰²ä¸º $A_i$ å’Œ $A_j$ çš„è¢œå­ä¸€èµ·æ—¶ï¼Œæ ¹æ®ä¸‰è§’ä¸ç­‰å¼ $|A_i-A_p| + |A_j-A_p| \geq |A_i-A_j| = |A_i-A_j| + |A_p-A_p|$ï¼Œæ‰€ä»¥é€šè¿‡å°† $(A_p,A_p)$ å’Œ $(A_i,A_j)$ é…å¯¹ï¼Œè€Œä¸æ˜¯ $(A_p,A_i),(A_p,A_j)$ï¼Œæ€»çš„å¥‡å¼‚åº¦ä¸ä¼šå¢åŠ ã€‚å½“ä¸€ä¸ªé¢œè‰²ä¸º $p$ çš„è¢œå­æ²¡æœ‰ä¸ä»»ä½•è¢œå­é…å¯¹ï¼Œè€Œå¦ä¸€ä¸ªè¢œå­é…å¯¹çš„é¢œè‰²æ˜¯å¦ä¸€ä¸ªé¢œè‰² $A_i$ æ—¶ï¼Œæ€»çš„å¥‡å¼‚åº¦ä¸ä¼šå¢åŠ ï¼Œé€šè¿‡å°† $(A_p, A_p)$ é…å¯¹ï¼Œè€Œä¸æ˜¯å°† $(A_p, A_i)$ é…å¯¹åç•™ä¸‹ $A_p$ æœªé…å¯¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾ä¸¤åªé¢œè‰²ä¸º $A_p$ çš„è¢œå­ä¼šåœ¨æœ€ä¼˜è§£ä¸­å§‹ç»ˆé…å¯¹ã€‚</p>
</blockquote>
<p>å› æ­¤ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œè¦æ±‚ä»é¢œè‰² $A_1,A_2,\dots,A_K$ ä¸­çš„æ¯ä¸€ä¸ªé¢œè‰²ä¸­æŒ‘é€‰ä¸€åªè¢œå­ï¼Œåˆ¶é€  $\lfloor \frac{K}{2} \rfloor$ å¯¹è¢œå­ã€‚</p>
<p>å¦‚æœ $K$ æ˜¯å¶æ•°ï¼Œæœ€ä¼˜çš„é…å¯¹æ–¹å¼ä¼¼ä¹æ˜¯é…å¯¹ $(A<em>1,A_2),(A_3,A_4),\dots,(A</em>{K-1},A_K)$ï¼Œè¿™æ˜¯ç¡®å®çš„æƒ…å†µã€‚</p>
<blockquote>
<p>[!success]- è¯æ˜<br>æˆ‘ä»¬é€šè¿‡å½’çº³è¿›è¡Œè¯æ˜ã€‚åªè¦è¯æ˜åœ¨æœ€ä¼˜è§£ä¸­é¢œè‰² $A_1$ æ€»æ˜¯ä¸é¢œè‰² $A_2$ é…å¯¹ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡åè¯æ³•è¯æ˜ä¸Šé¢çš„ç»“è®ºã€‚åœ¨ä¸€ä¸ªæœ€ä¼˜è§£ä¸­ï¼Œå‡è®¾é¢œè‰² $A_1$ ä¸é¢œè‰² $A_i\ (i &gt; 2)$ é…å¯¹ï¼Œå¹¶ä¸”é¢œè‰² $A_2$ ä¸é¢œè‰² $A_j$ é…å¯¹ã€‚é‚£ä¹ˆç”±äº $A_1 &lt; A_2 &lt; A_i, A_j$ï¼Œæˆ‘ä»¬æœ‰ $|A_i-A_1| + |A_j-A_2| &gt; |A_2-A_1| + |A_j-A_i|$ï¼Œæ‰€ä»¥å°† $(A_1,A_2)$ å’Œ $(A_i,A_j)$ é…å¯¹ï¼Œè€Œä¸æ˜¯é…å¯¹ $(A_1,A_i)$ å’Œ $(A_2,A_j)$ ä¼šå‡å°æ€»çš„å¥‡å¼‚åº¦ï¼Œè¿™è¿åäº†æœ€ä¼˜æ€§ã€‚</p>
</blockquote>
<p>å½“ $K$ æ˜¯å¥‡æ•°æ—¶ï¼Œé—®é¢˜å°±å‡ºç°äº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‰©ä¸‹çš„è¢œå­ä¸­æš´åŠ›è§£å†³å”¯ä¸€æ²¡æœ‰é…å¯¹çš„é¢œè‰²çš„é—®é¢˜ï¼Œæœ€ä¼˜çš„æ–¹æ³•å¯ä»¥åƒæˆ‘ä»¬å¤„ç†å¶æ•° $K$ ä¸€æ ·æ‰¾åˆ°ã€‚å½“å‰©ä¸‹çš„è¢œå­é…å¯¹æ—¶ï¼Œæœ€å°çš„æ€»å¥‡å¼‚åº¦å¯ä»¥åœ¨ $O(N)$ çš„æ—¶é—´å†…æ‰¾åˆ°ï¼Œä½†è¿™å¯¼è‡´äº† $O(N^2)$ çš„å¤æ‚åº¦ã€‚è€Œå®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é¢„å…ˆè®¡ç®—å½“å‰å‡ åªè¢œå­é…å¯¹æ—¶çš„æ€»çš„å¥‡å¼‚åº¦ï¼Œä¾‹å¦‚ $\mathrm{presum}[2]=(A_2-A_1),\mathrm{presum}[4]= (A_4-A_3)+(A_2-A_1), \mathrm{presum}[6]=(A_6-A_5)+(A_4-A_3)+(A_2-A_1),\dots$ï¼Œä»¥ç±»ä¼¼å‰ç¼€å’Œçš„æ–¹å¼ã€‚åŒæ ·ï¼Œå¯ä»¥æ‰¾åˆ°â€œåç¼€å’Œâ€ã€‚å› æ­¤ï¼Œé€šè¿‡è¿™ç§æ–¹æ³•ï¼Œé—®é¢˜å¯ä»¥åœ¨æ€»å…± $O(N)$ çš„æ—¶é—´å†…è§£å†³ã€‚</p>
<p>é¢å¤–ä¿¡æ¯ï¼šå½“ $K$ æ˜¯å¥‡æ•°æ—¶ï¼Œç›¸æ¯”äºå¯¹æ¯åªæœªé…å¯¹çš„è¢œå­æš´åŠ›å°è¯•ï¼Œæˆ‘ä»¬å¯ä»¥åªå°è¯• $A_1,A_3,A_5,\dots,A_K$ï¼ˆè¯æ˜çœç•¥ï¼‰ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†è¿™ç§æ–¹æ³•æ¥ç®€åŒ–å®ç°ã€‚</p>
<h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><p>éœ€è¦è®¡ç®—å‰ç¼€(pre)å’Œåç¼€(suf)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, k;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">a</span><span class="params">(k)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> &amp;i: a) cin &gt;&gt; i;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">pre</span><span class="params">(k + <span class="number">1</span>)</span>, <span class="title">suf</span><span class="params">(k + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line">        pre[i] = pre[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) pre[i] += a[i - <span class="number">1</span>] - a[i - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = k - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        suf[i] = suf[i + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> ((k - i) % <span class="number">2</span> == <span class="number">0</span>) suf[i] += a[i + <span class="number">1</span>] - a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">1e9</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= k; i += <span class="number">2</span>) &#123;</span><br><span class="line">        ans = <span class="built_in">min</span>(ans, pre[i] + suf[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="FXJFXJ"
      src="/images/8e78b9e9e316fb38c4483af628530815.jpg">
  <p class="site-author-name" itemprop="name">FXJFXJ</p>
  <div class="site-description" itemprop="description">A story about ACMer and ProgrammerğŸ˜‡</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">255</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">50</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/bakebakebakebake" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;bakebakebakebake" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="qq:fxjgo@qq.com" title="E-Mail â†’ qq:fxjgo@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/22060498/fxjfxj" title="StackOverflow â†’ https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;22060498&#x2F;fxjfxj" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/2071277173?spm_id_from=333.1007.0.0" title="Bilibili â†’ https:&#x2F;&#x2F;space.bilibili.com&#x2F;2071277173?spm_id_from&#x3D;333.1007.0.0" rel="noopener" target="_blank"><i class="iconfont icon-bilibili-line fa-fw"></i>Bilibili</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.nowcoder.com/users/856358952" title="Nowcoder â†’ https:&#x2F;&#x2F;www.nowcoder.com&#x2F;users&#x2F;856358952" rel="noopener" target="_blank"><i class="fab fa-freebsd fa-fw"></i>Nowcoder</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/4-95-22-83" title="Zhihu â†’ https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;4-95-22-83" rel="noopener" target="_blank"><i class="fab fa-zhihu fa-fw"></i>Zhihu</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://atcoder.jp/users/FXJFXJ" title="AtCoder â†’ https:&#x2F;&#x2F;atcoder.jp&#x2F;users&#x2F;FXJFXJ" rel="noopener" target="_blank"><i class="fab fa-wolf-pack-battalion fa-fw"></i>AtCoder</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://codeforces.com/profile/FXJFXJ" title="Codeforces â†’ https:&#x2F;&#x2F;codeforces.com&#x2F;profile&#x2F;FXJFXJ" rel="noopener" target="_blank"><i class="fab fa-grav fa-fw"></i>Codeforces</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/publicdomain/zero/1.0/en" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-zero.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">FXJFXJ</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹æ€»å­—æ•°ï¼š</span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">NaNm</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">ç«™ç‚¹é˜…è¯»æ—¶é•¿ &asymp;</span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">NaN:aN</span>
</div><script color="0,0,255" opacity="0.5" zIndex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>

<div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv" style='display:none'>
    æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡
    <span class="post-meta-divider">|</span>
</span>
<span id="busuanzi_container_site_uv" style='display:none'>
    æœ‰<span id="busuanzi_value_site_uv"></span>äººçœ‹è¿‡æˆ‘çš„åšå®¢
</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  
<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>

<script>
var options = {
  bottom: '64px',
  right: 'unset',
  left: '32px',
  time: '0.5s',
  mixColor: 'transparent',
  backgroundColor: 'transparent',
  buttonColorDark: '#100f2c',
  buttonColorLight: '#fff',
  saveInCookies: true,
  label: 'ğŸŒ“',
  autoMatchOsTheme: true
}
const darkmode = new Darkmode(options);
window.darkmode = darkmode;
darkmode.showWidget();
</script>


</body>
</html>
